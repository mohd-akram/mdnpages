.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "Worker" "JS" "April 22, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Worker \- Worker
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers, except for
Service Workers.
.PP
The \f[B]\f[CB]Worker\f[B]\f[R] interface of the Web Workers API
represents a background task that can be created via script, which can
send messages back to its creator.
.PP
Creating a worker is done by calling the
\f[CR]Worker(\[dq]path/to/worker/script\[dq])\f[R] constructor.
.PP
Workers may themselves spawn new workers, as long as those workers are
hosted at the same origin as the parent page.
.PP
Note that not all interfaces and functions are available to web workers.
See Functions and classes available to Web Workers for details.
.SH CONSTRUCTORS
.TP
\f[B]Worker()\f[R]
Creates a dedicated web worker that executes the script at the specified
URL.
This also works for Blob URLs.
.SH INSTANCE PROPERTIES
\f[I]Inherits properties from its parent, \f[CI]EventTarget\f[I].\f[R]
.SH INSTANCE METHODS
\f[I]Inherits methods from its parent, \f[CI]EventTarget\f[I].\f[R]
.TP
\f[B]Worker.postMessage()\f[R]
Sends a message \[em] consisting of any JavaScript object \[em] to the
worker\[cq]s inner scope.
.TP
\f[B]Worker.terminate()\f[R]
Immediately terminates the worker.
This does not let worker finish its operations; it is halted at once.
\f[CR]ServiceWorker\f[R] instances do not support this method.
.SH EVENTS
.TP
\f[B]error\f[R]
Fires when an error occurs in the worker.
.TP
\f[B]message\f[R]
Fires when the worker\[cq]s parent receives a message from that worker.
.TP
\f[B]messageerror\f[R]
Fires when a \f[CR]Worker\f[R] object receives a message that can\[cq]t
be deserialized.
.SH EXAMPLE
The following code snippet creates a \f[CR]Worker\f[R] object using the
\f[CR]Worker()\f[R] constructor, then uses the worker object:
.IP
.EX
\f[B]const\f[R] myWorker = \f[B]new\f[R] Worker(\[dq]/worker.js\[dq]);
\f[B]const\f[R] first = document.querySelector(\[dq]input#number1\[dq]);
\f[B]const\f[R] second = document.querySelector(\[dq]input#number2\[dq]);

first.onchange = () \f[B]=>\f[R] {
  myWorker.postMessage([first.value, second.value]);
  console.log(\[dq]Message posted to worker\[dq]);
};
.EE
.PP
For a full example, see our \c
.UR https://github.com/mdn/dom-examples/tree/main/web-workers/simple-web-worker
Basic dedicated worker example
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/web-workers/simple-web-worker/
run dedicated worker
.UE \c
).
.SS Cross\-origin worker error behavior
In early versions of the spec, loading a cross\-origin worker script
threw a \f[CR]SecurityError\f[R].
Nowadays, an \f[CR]error\f[R] event is thrown instead.
.SH SEE ALSO
.IP \[bu] 2
Using Web Workers
.IP \[bu] 2
Functions and classes available to Web Workers
.IP \[bu] 2
Other kind of workers: \f[CR]SharedWorker\f[R] and Service Worker.
.IP \[bu] 2
\f[CR]OffscreenCanvas\f[R] interface
