.\" Automatically generated by Pandoc 3.6.2
.\"
.TH "MediaKeySession" "JS" "June 17, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
MediaKeySession \- MediaKeySession
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
The \f[B]\f[CB]MediaKeySession\f[B]\f[R] interface of the Encrypted
Media Extensions API represents a context for message exchange with a
content decryption module (CDM).
.SH INSTANCE PROPERTIES
.TP
\f[B]MediaKeySession.closed\f[R] \f[I](read\-only)\f[R]
Returns a \f[CR]Promise\f[R] signaling when a \f[CR]MediaKeySession\f[R]
closes.
This promise can only be fulfilled and is never rejected.
Closing a session means that licenses and keys associated with it are no
longer valid for decrypting media data.
.TP
\f[B]MediaKeySession.expiration\f[R] \f[I](read\-only)\f[R]
The time after which the keys in the current session can no longer be
used to decrypt media data, or \f[CR]NaN\f[R] if no such time exists.
This value is determined by the CDM and measured in milliseconds since
January 1, 1970, UTC.
This value may change during a session lifetime, such as when an action
triggers the start of a window.
.TP
\f[B]MediaKeySession.keyStatuses\f[R] \f[I](read\-only)\f[R]
Contains a reference to a read\-only \f[CR]MediaKeyStatusMap\f[R] of the
current session\[cq]s keys and their statuses.
.TP
\f[B]MediaKeySession.sessionId\f[R] \f[I](read\-only)\f[R]
Contains a unique string generated by the CDM for the current media
object and its associated keys or licenses.
.SS Events
.TP
\f[B]keystatuseschange\f[R]
Fires when there has been a change in the keys in a session or their
statuses.
.TP
\f[B]message\f[R]
Fires when the content decryption module has generated a message for the
session.
.SH INSTANCE METHODS
.TP
\f[B]MediaKeySession.close()\f[R]
Returns a \f[CR]Promise\f[R] after notifying the current media session
is no longer needed and that the CDM should release any resources
associated with this object and close it.
.TP
\f[B]MediaKeySession.generateRequest()\f[R]
Returns a \f[CR]Promise\f[R] after generating a media request based on
initialization data.
.TP
\f[B]MediaKeySession.load()\f[R]
Returns a \f[CR]Promise\f[R] that resolves to a boolean value after
loading data for a specified session object.
.TP
\f[B]MediaKeySession.remove()\f[R]
Returns a \f[CR]Promise\f[R] after removing any session data associated
with the current object.
.TP
\f[B]MediaKeySession.update()\f[R]
Returns a \f[CR]Promise\f[R] after loading messages and licenses to the
CDM.
.SH EXAMPLES
.IP
.EX
\f[I]// \f[R]\f[B]TBD\f[R]
.EE
