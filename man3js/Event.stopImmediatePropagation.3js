.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "Event.stopImmediatePropagation" "JS" "May 7, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Event.stopImmediatePropagation \- Event: stopImmediatePropagation()
method
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]stopImmediatePropagation()\f[B]\f[R] method of the
\f[CR]Event\f[R] interface prevents other listeners of the same event
from being called.
.PP
If several listeners are attached to the same element for the same event
type, they are called in the order in which they were added.
If \f[CR]stopImmediatePropagation()\f[R] is invoked during one such
call, no remaining listeners will be called, either on that element or
any other element.
.SH SYNTAX
.IP
.EX
event.stopImmediatePropagation()
.EE
.SH EXAMPLES
.SS Comparing event\-stopping functions
The example below has three buttons inside of three nested divs.
Each button has three event listeners registered for click events, and
each div has an event listener, also registered for click events.
.IP \[bu] 2
The top button allows normal event propagation.
.IP \[bu] 2
The middle button calls \f[CR]stopPropagation()\f[R] in its first event
handler.
.IP \[bu] 2
The bottom button calls \f[CR]stopImmediatePropagation()\f[R] in its
first event handler.
.SS HTML
.IP
.EX
<\f[B]h2\f[R]>Click on the buttons</\f[B]h2\f[R]>
<\f[B]div\f[R]>
  outer div<\f[B]br\f[R] />
  <\f[B]div\f[R]>
    middle div<\f[B]br\f[R] />
    <\f[B]div\f[R]>
      inner div<\f[B]br\f[R] />
      <\f[B]button\f[R]>allow propagation</\f[B]button\f[R]><\f[B]br\f[R] />
      <\f[B]button\f[R] id=\[dq]stopPropagation\[dq]>stop propagation</\f[B]button\f[R]><\f[B]br\f[R] />
      <\f[B]button\f[R] id=\[dq]stopImmediatePropagation\[dq]>immediate stop propagation</\f[B]button\f[R]>
    </\f[B]div\f[R]>
  </\f[B]div\f[R]>
</\f[B]div\f[R]>
<\f[B]pre\f[R]></\f[B]pre\f[R]>
.EE
.SS CSS
.IP
.EX
div {
  \f[B]display\f[R]: inline\-block;
  \f[B]padding\f[R]: 10px;
  \f[B]background\-color\f[R]: #fff;
  \f[B]border\f[R]: 2px solid #000;
  \f[B]margin\f[R]: 10px;
}

button {
  \f[B]width\f[R]: 100px;
  \f[B]color\f[R]: #008;
  \f[B]padding\f[R]: 5px;
  \f[B]background\-color\f[R]: #fff;
  \f[B]border\f[R]: 2px solid #000;
  \f[B]border\-radius\f[R]: 30px;
  \f[B]margin\f[R]: 5px;
}
.EE
.SS JavaScript
.IP
.EX
\f[B]const\f[R] outElem = document.querySelector(\[dq]pre\[dq]);

\f[I]/* Clear the output */\f[R]
document.addEventListener(
  \[dq]click\[dq],
  () \f[B]=>\f[R] {
    outElem.textContent = \[dq]\[dq];
  },
  \f[B]true\f[R],
);

\f[I]/* Set event listeners for the buttons */\f[R]
document.querySelectorAll(\[dq]button\[dq]).forEach((elem) \f[B]=>\f[R] {
  \f[B]for\f[R] (\f[B]let\f[R] i = 1; i <= 3; i++) {
    elem.addEventListener(\[dq]click\[dq], (evt) \f[B]=>\f[R] {
      \f[I]/* Do any propagation stopping in first event handler */\f[R]
      \f[B]if\f[R] (i === 1 && elem.id) {
        evt[elem.id]();
        outElem.textContent += \[ga]Event handler for event 1 calling ${elem.id}()\[rs]n\[ga];
      }

      outElem.textContent += \[ga]Click event ${i} processed on \[dq]${elem.textContent}\[dq] button\[rs]n\[ga];
    });
  }
});

\f[I]/* Set event listeners for the divs */\f[R]
document
  .querySelectorAll(\[dq]div\[dq])
  .forEach((elem) \f[B]=>\f[R]
    elem.addEventListener(
      \[dq]click\[dq],
      (evt) \f[B]=>\f[R]
        (outElem.textContent += \[ga]Click event processed on \[dq]${elem.firstChild.data.trim()}\[dq]\[rs]n\[ga]),
    ),
  );
.EE
.SS Result
Each click\-event handler displays a status message when it is called.
If you press the middle button, you will see that
\f[CR]stopPropagation()\f[R] allows all of the event handlers registered
for clicks on that button to execute but prevents execution of the
click\-event handlers for the divs, which would normally follow.
However, if you press the bottom button,
\f[CR]stopImmediatePropagation()\f[R] stops all propagation after the
event that called it.
