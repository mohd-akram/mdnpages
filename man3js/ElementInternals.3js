.\" Automatically generated by Pandoc 3.4
.\"
.TH "ElementInternals" "JS" "July 27, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ElementInternals \- ElementInternals
.SH SYNOPSIS
The \f[B]\f[CB]ElementInternals\f[B]\f[R] interface of the Document
Object Model gives web developers a way to allow custom elements to
fully participate in HTML forms.
It provides utilities for working with these elements in the same way
you would work with any standard HTML form element, and also exposes the
\c
.UR https://wicg.github.io/aom/explainer.html
Accessibility Object Model
.UE \c
\ to the element.
.SH CONSTRUCTOR
This interface has no constructor.
An \f[CR]ElementInternals\f[R] object is returned when calling
\f[CR]HTMLElement.attachInternals()\f[R].
.SH INSTANCE PROPERTIES
.TP
\f[B]ElementInternals.shadowRoot\f[R] \f[I](read\-only)\f[R]
Returns the \f[CR]ShadowRoot\f[R] object associated with this element.
.TP
\f[B]ElementInternals.form\f[R] \f[I](read\-only)\f[R]
Returns the \f[CR]HTMLFormElement\f[R] associated with this element.
.TP
\f[B]ElementInternals.states\f[R] \f[I](read\-only)\f[R]
Returns the \f[CR]CustomStateSet\f[R] associated with this element.
.TP
\f[B]ElementInternals.willValidate\f[R] \f[I](read\-only)\f[R]
A boolean value which returns true if the element is a submittable
element that is a candidate for constraint validation.
.TP
\f[B]ElementInternals.validity\f[R] \f[I](read\-only)\f[R]
Returns a \f[CR]ValidityState\f[R] object which represents the different
validity states the element can be in, with respect to constraint
validation.
.TP
\f[B]ElementInternals.validationMessage\f[R] \f[I](read\-only)\f[R]
A string containing the validation message of this element.
.TP
\f[B]ElementInternals.labels\f[R] \f[I](read\-only)\f[R]
Returns a \f[CR]NodeList\f[R] of all of the label elements associated
with this element.
.SS Instance properties included from ARIA
The \f[CR]ElementInternals\f[R] interface also includes the following
properties.
.RS
.PP
\f[B]Note:\f[R] These are included in order that default accessibility
semantics can be defined on a custom element.
These may be overwritten by author\-defined attributes, but ensure that
default semantics are retained should the author delete those
attributes, or fail to add them at all.
For more information see the \c
.UR https://wicg.github.io/aom/explainer.html#default-semantics-for-custom-elements-via-the-elementinternals-object
Accessibility Object Model explainer
.UE \c
\&.
.RE
.TP
\f[B]ElementInternals.ariaAtomic\f[R]
A string reflecting the \f[CR]aria\-atomic\f[R] attribute, which
indicates whether assistive technologies will present all, or only parts
of, the changed region based on the change notifications defined by the
\f[CR]aria\-relevant\f[R] attribute.
.TP
\f[B]ElementInternals.ariaAutoComplete\f[R]
A string reflecting the \f[CR]aria\-autocomplete\f[R] attribute, which
indicates whether inputting text could trigger display of one or more
predictions of the user\[cq]s intended value for a combobox, searchbox,
or textbox and specifies how predictions would be presented if they were
made.
.TP
\f[B]ElementInternals.ariaBusy\f[R]
A string reflecting the \f[CR]aria\-busy\f[R] attribute, which indicates
whether an element is being modified, as assistive technologies may want
to wait until the modifications are complete before exposing them to the
user.
.TP
\f[B]ElementInternals.ariaChecked\f[R]
A string reflecting the \f[CR]aria\-checked\f[R] attribute, which
indicates the current \[lq]checked\[rq] state of checkboxes, radio
buttons, and other widgets that have a checked state.
.TP
\f[B]ElementInternals.ariaColCount\f[R]
A string reflecting the \f[CR]aria\-colcount\f[R] attribute, which
defines the number of columns in a table, grid, or treegrid.
.TP
\f[B]ElementInternals.ariaColIndex\f[R]
A string reflecting the \f[CR]aria\-colindex\f[R] attribute, which
defines an element\[cq]s column index or position with respect to the
total number of columns within a table, grid, or treegrid.
.TP
\f[B]ElementInternals.ariaColIndexText\f[R]
A string reflecting the \f[CR]aria\-colindextext\f[R] attribute, which
defines a human readable text alternative of aria\-colindex.
.TP
\f[B]ElementInternals.ariaColSpan\f[R]
A string reflecting the \f[CR]aria\-colspan\f[R] attribute, which
defines the number of columns spanned by a cell or gridcell within a
table, grid, or treegrid.
.TP
\f[B]ElementInternals.ariaCurrent\f[R]
A string reflecting the \f[CR]aria\-current\f[R] attribute, which
indicates the element that represents the current item within a
container or set of related elements.
.TP
\f[B]ElementInternals.ariaDescription\f[R]
A string reflecting the \f[CR]aria\-description\f[R] attribute, which
defines a string value that describes or annotates the current
ElementInternals.
.TP
\f[B]ElementInternals.ariaDisabled\f[R]
A string reflecting the \f[CR]aria\-disabled\f[R] attribute, which
indicates that the element is perceivable but disabled, so it is not
editable or otherwise operable.
.TP
\f[B]ElementInternals.ariaExpanded\f[R]
A string reflecting the \f[CR]aria\-expanded\f[R] attribute, which
indicates whether a grouping element owned or controlled by this element
is expanded or collapsed.
.TP
\f[B]ElementInternals.ariaHasPopup\f[R]
A string reflecting the \f[CR]aria\-haspopup\f[R] attribute, which
indicates the availability and type of interactive popup element, such
as menu or dialog, that can be triggered by an ElementInternals.
.TP
\f[B]ElementInternals.ariaHidden\f[R]
A string reflecting the \f[CR]aria\-hidden\f[R] attribute, which
indicates whether the element is exposed to an accessibility API.
.TP
\f[B]ElementInternals.ariaKeyShortcuts\f[R]
A string reflecting the \f[CR]aria\-keyshortcuts\f[R] attribute, which
indicates keyboard shortcuts that an author has implemented to activate
or give focus to an ElementInternals.
.TP
\f[B]ElementInternals.ariaLabel\f[R]
A string reflecting the \f[CR]aria\-label\f[R] attribute, which defines
a string value that labels the current ElementInternals.
.TP
\f[B]ElementInternals.ariaLevel\f[R]
A string reflecting the \f[CR]aria\-level\f[R] attribute, which defines
the hierarchical level of an element within a structure.
.TP
\f[B]ElementInternals.ariaLive\f[R]
A string reflecting the \f[CR]aria\-live\f[R] attribute, which indicates
that an element will be updated, and describes the types of updates the
user agents, assistive technologies, and user can expect from the live
region.
.TP
\f[B]ElementInternals.ariaModal\f[R]
A string reflecting the \f[CR]aria\-modal\f[R] attribute, which
indicates whether an element is modal when displayed.
.TP
\f[B]ElementInternals.ariaMultiline\f[R]
A string reflecting the \f[CR]aria\-multiline\f[R] attribute, which
indicates whether a text box accepts multiple lines of input or only a
single line.
.TP
\f[B]ElementInternals.ariaMultiSelectable\f[R]
A string reflecting the \f[CR]aria\-multiselectable\f[R] attribute,
which indicates that the user may select more than one item from the
current selectable descendants.
.TP
\f[B]ElementInternals.ariaOrientation\f[R]
A string reflecting the \f[CR]aria\-orientation\f[R] attribute, which
indicates whether the element\[cq]s orientation is horizontal, vertical,
or unknown/ambiguous.
.TP
\f[B]ElementInternals.ariaPlaceholder\f[R]
A string reflecting the \f[CR]aria\-placeholder\f[R] attribute, which
defines a short hint intended to aid the user with data entry when the
control has no value.
.TP
\f[B]ElementInternals.ariaPosInSet\f[R]
A string reflecting the \f[CR]aria\-posinset\f[R] attribute, which
defines an element\[cq]s number or position in the current set of
listitems or treeitems.
.TP
\f[B]ElementInternals.ariaPressed\f[R]
A string reflecting the \f[CR]aria\-pressed\f[R] attribute, which
indicates the current \[lq]pressed\[rq] state of toggle buttons.
.TP
\f[B]ElementInternals.ariaReadOnly\f[R]
A string reflecting the \f[CR]aria\-readonly\f[R] attribute, which
indicates that the element is not editable, but is otherwise operable.
.TP
\f[B]ElementInternals.ariaRelevant\f[R] \f[I](non\-standard)\f[R]
A string reflecting the \f[CR]aria\-relevant\f[R] attribute, which
indicates what notifications the user agent will trigger when the
accessibility tree within a live region is modified.
This is used to describe what changes in an \f[CR]aria\-live\f[R] region
are relevant and should be announced.
.TP
\f[B]ElementInternals.ariaRequired\f[R]
A string reflecting the \f[CR]aria\-required\f[R] attribute, which
indicates that user input is required on the element before a form may
be submitted.
.TP
\f[B]ElementInternals.role\f[R]
A string which contains an ARIA role.
A full list of ARIA roles can be found on the ARIA techniques page.
.TP
\f[B]ElementInternals.ariaRoleDescription\f[R]
A string reflecting the \f[CR]aria\-roledescription\f[R] attribute,
which defines a human\-readable, author\-localized description for the
role of an Element.
.TP
\f[B]ElementInternals.ariaRowCount\f[R]
A string reflecting the \f[CR]aria\-rowcount\f[R] attribute, which
defines the total number of rows in a table, grid, or treegrid.
.TP
\f[B]ElementInternals.ariaRowIndex\f[R]
A string reflecting the \f[CR]aria\-rowindex\f[R] attribute, which
defines an element\[cq]s row index or position with respect to the total
number of rows within a table, grid, or treegrid.
.TP
\f[B]ElementInternals.ariaRowIndexText\f[R]
A string reflecting the \f[CR]aria\-rowindextext\f[R] attribute, which
defines a human readable text alternative of aria\-rowindex.
.TP
\f[B]ElementInternals.ariaRowSpan\f[R]
A string reflecting the \f[CR]aria\-rowspan\f[R] attribute, which
defines the number of rows spanned by a cell or gridcell within a table,
grid, or treegrid.
.TP
\f[B]ElementInternals.ariaSelected\f[R]
A string reflecting the \f[CR]aria\-selected\f[R] attribute, which
indicates the current \[lq]selected\[rq] state of elements that have a
selected state.
.TP
\f[B]ElementInternals.ariaSetSize\f[R]
A string reflecting the \f[CR]aria\-setsize\f[R] attribute, which
defines the number of items in the current set of listitems or
treeitems.
.TP
\f[B]ElementInternals.ariaSort\f[R]
A string reflecting the \f[CR]aria\-sort\f[R] attribute, which indicates
if items in a table or grid are sorted in ascending or descending order.
.TP
\f[B]ElementInternals.ariaValueMax\f[R]
A string reflecting the \f[CR]aria\-valueMax\f[R] attribute, which
defines the maximum allowed value for a range widget.
.TP
\f[B]ElementInternals.ariaValueMin\f[R]
A string reflecting the \f[CR]aria\-valueMin\f[R] attribute, which
defines the minimum allowed value for a range widget.
.TP
\f[B]ElementInternals.ariaValueNow\f[R]
A string reflecting the \f[CR]aria\-valueNow\f[R] attribute, which
defines the current value for a range widget.
.TP
\f[B]ElementInternals.ariaValueText\f[R]
A string reflecting the \f[CR]aria\-valuetext\f[R] attribute, which
defines the human\-readable text alternative of aria\-valuenow for a
range widget.
.SH INSTANCE METHODS
.TP
\f[B]ElementInternals.setFormValue()\f[R]
Sets the element\[cq]s submission value and state, communicating these
to the user agent.
.TP
\f[B]ElementInternals.setValidity()\f[R]
Sets the validity of the element.
.TP
\f[B]ElementInternals.checkValidity()\f[R]
Checks if an element meets any constraint validation rules applied to
it.
.TP
\f[B]ElementInternals.reportValidity()\f[R]
Checks if an element meets any constraint validation rules applied to
it, and also sends a validation message to the user agent.
.SH EXAMPLES
The following example demonstrates how to create a custom
form\-associated element with \f[CR]HTMLElement.attachInternals\f[R].
.IP
.EX
\f[B]class\f[R] CustomCheckbox \f[B]extends\f[R] HTMLElement {
  \f[B]static\f[R] formAssociated = \f[B]true\f[R];

  constructor() {
    \f[B]super\f[R]();
    \f[B]this\f[R].internals_ = \f[B]this\f[R].attachInternals();
  }

  \f[I]// \&...\f[R]
}

window.customElements.define(\[dq]custom\-checkbox\[dq], CustomCheckbox);

\f[B]let\f[R] element = document.createElement(\[dq]custom\-checkbox\[dq]);
\f[B]let\f[R] form = document.createElement(\[dq]form\[dq]);

\f[I]// Append element to form to associate it\f[R]
form.appendChild(element);

console.log(element.internals_.form);
\f[I]// expected output: <form><custom\-checkbox></custom\-checkbox></form>\f[R]
.EE
.SH SEE ALSO
.IP \[bu] 2
\c
.UR https://web.dev/articles/more-capable-form-controls
More capable form controls
.UE \c
.IP \[bu] 2
\c
.UR https://css-tricks.com/creating-custom-form-controls-with-elementinternals/
Creating custom form controls with ElementInternals
.UE \c
.IP \[bu] 2
\c
.UR https://www.npmjs.com/package/element-internals-polyfill
ElementInternals polyfill
.UE \c
