.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "XRINPUTSOURCE.TARGETRAYMODE" "3JS" "August 28, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
XRInputSource.targetRayMode \- XRInputSource: targetRayMode property
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
The read\-only \f[CR]XRInputSource\f[R] property
\f[B]\f[CB]targetRayMode\f[B]\f[R] indicates the method by which the
target ray for the input source should be generated and how it should be
presented to the user.
.PP
Typically a target ray is drawn from the source of the targeting system
along the target ray in the direction in which the user is looking or
pointing.
The style of the ray is generally up to you, as is the method for
indicating the endpoint of the ray.
The targeted point or object might be indicated by drawing a shape or
highlighting the targeted surface or object.
.PP
A target ray emitted by a hand controller:
[IMAGE: \c
.UR https://mdn.github.io/shared-assets/images/examples/hand-controller-target-ray.gif
A screenshot showing a target ray being emitted by a hand controller
.UE \c
]
A screenshot showing a target ray being emitted by a hand controller
.PP
The target ray can be anything from a simple line (ideally fading over
distance) to an animated effect, such as the science\-fiction
\(lqphaser\(rq style shown in the screenshot above.
.SH VALUE
A string indicating which method to use when generating and presenting
the target ray to the user.
The possible values are:
.TP
\f[B]gaze\f[R]
The user is using a gaze\-tracking system (or \f[B]gaze input\f[R])
which detects the direction in which the user is looking.
The target ray will be drawn originating at the viewer\(cqs eyes and
will follow the direction in which they\(cqre looking.
.TP
\f[B]screen\f[R]
The direction of the target ray is indicated using a tap on a touch
screen, mouse, or other tactile input device.
.TP
\f[B]tracked\-pointer\f[R]
Targeting is being performed using a handheld device or hand\-tracking
system which the user points in the direction of the target.
The target ray extends from the hand (or the object in the hand) in the
targeted direction.
The direction is determined using platform\-specific rules, though if no
such rules exist, the direction is chosen by assuming the user is
pointing their index finger straight out from their hand.
.TP
\f[B]transient\-pointer\f[R]
The input source was generated as part of an operating system
interaction intent rather than a specific piece of hardware.
Some examples include user intents based on information too sensitive to
expose directly such as gaze, synthesized inputs from web drivers, or
inputs generated by assistive technologies.
.SH USAGE NOTES
The input source\(cqs \f[CR]targetRaySpace\f[R] indicates the position
and orientation of the target ray, and can be used to determine where to
render the ray.
.SH EXAMPLES
This fragment of code shows part of a function to be called once every
frame.
It looks for inputs which have a non\-\f[CR]null\f[R]
\f[CR]targetRaySpace\f[R].
Inputs which have a value for this property represent inputs that
project a target ray outward from the user.
.PP
For each such input, this example looks for inputs whose
\f[CR]targetRayMode\f[R] is \f[CR]tracked\-pointer\f[R], indicating that
the input is in fact intended to represent a targeting device rather
than a gazing device, screen tap, or mouse click.
For tracked pointers, a function \f[CR]myRenderTargetRayAsBeam()\f[R] is
called to render a beam from the input controller\(cqs virtual position
outward in the direction it\(cqs pointing.
.PP
The code should continue to perform tasks such as drawing controllers or
any objects representative of the user\(cqs hands\(cq positions in the
virtual space, as well as any other input\-related tasks.
.IP
.EX
\f[B]function\f[R] updateInputSources(session, frame, refSpace) {
  \f[B]for\f[R] (\f[B]const\f[R] source \f[B]of\f[R] session.getInputSources()) {
    \f[B]const\f[R] targetRayPose = frame.getPose(inputSource.targetRaySpace, refSpace);

    \f[B]if\f[R] (targetRayPose) {
      \f[B]if\f[R] (source.targetRayMode === \(dqtracked\-pointer\(dq) {
        myRenderTargetRayAsBeam(targetRayPose);
      }
    }

    \f[I]// \&...\f[R]
  }
}
.EE
.PP
See the article Inputs and input sources for more details and a more
complete example.
.SH SEE ALSO
.IP \(bu 2
WebXR Device API
.IP \(bu 2
Inputs and input sources
.IP \(bu 2
Using gamepads in WebXR applications
