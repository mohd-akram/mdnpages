.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "SharedArrayBuffer.\[at]\[at]species" "JS" "April 10, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
SharedArrayBuffer.\[at]\[at]species \-
SharedArrayBuffer[\[at]\[at]species]
.SH SYNOPSIS
The \f[B]\f[CB]SharedArrayBuffer[\[at]\[at]species]\f[B]\f[R] static
accessor property returns the constructor used to construct return
values from \f[CR]SharedArrayBuffer\f[R] methods.
.RS
.PP
\f[B]Warning:\f[R] The existence of \f[CR]\[at]\[at]species\f[R] allows
execution of arbitrary code and may create security vulnerabilities.
It also makes certain optimizations much harder.
Engine implementers are \c
.UR https://github.com/tc39/proposal-rm-builtin-subclassing
investigating whether to remove this feature
.UE \c
\&.
Avoid relying on it if possible.
.RE
.SH SYNTAX
.IP
.EX
SharedArrayBuffer[Symbol.species]
.EE
.SS Return value
The value of the constructor (\f[CR]this\f[R]) on which
\f[CR]get \[at]\[at]species\f[R] was called.
The return value is used to construct return values from array buffer
methods that create new array buffer.
.SH DESCRIPTION
The \f[CR]\[at]\[at]species\f[R] accessor property returns the default
constructor for \f[CR]SharedArrayBuffer\f[R] objects.
Subclass constructors may override it to change the constructor
assignment.
The default implementation is basically:
.IP
.EX
// Hypothetical underlying implementation for illustration
class SharedArrayBuffer {
  static get [Symbol.species]() {
    return this;
  }
}
.EE
.PP
Because of this polymorphic implementation, \f[CR]\[at]\[at]species\f[R]
of derived subclasses would also return the constructor itself by
default.
.IP
.EX
class SubArrayBuffer extends SharedArrayBuffer {}
SubArrayBuffer[Symbol.species] === SharedArrayBuffer; // true
.EE
.PP
When calling array buffer methods that do not mutate the existing array
but return a new array buffer instance (for example,
\f[CR]slice()\f[R]), the array\[cq]s
\f[CR]constructor[\[at]\[at]species]\f[R] will be accessed.
The returned constructor will be used to construct the return value of
the array buffer method.
.SH EXAMPLES
.SS Species in ordinary objects
The \f[CR]\[at]\[at]species\f[R] property returns the default
constructor function, which is the \f[CR]SharedArrayBuffer\f[R]
constructor for \f[CR]SharedArrayBuffer\f[R].
.IP
.EX
SharedArrayBuffer[Symbol.species]; // function SharedArrayBuffer()
.EE
.SS Species in derived objects
In an instance of a custom \f[CR]SharedArrayBuffer\f[R] subclass, such
as \f[CR]MySharedArrayBuffer\f[R], the \f[CR]MySharedArrayBuffer\f[R]
species is the \f[CR]MySharedArrayBuffer\f[R] constructor.
However, you might want to overwrite this, in order to return parent
\f[CR]SharedArrayBuffer\f[R] objects in your derived class methods:
.IP
.EX
class MySharedArrayBuffer extends SharedArrayBuffer {
  // Overwrite MySharedArrayBuffer species to the parent SharedArrayBuffer constructor
  static get [Symbol.species]() {
    return SharedArrayBuffer;
  }
}
.EE
.SH SEE ALSO
.IP \[bu] 2
\f[CR]SharedArrayBuffer\f[R]
.IP \[bu] 2
\f[CR]Symbol.species\f[R]
