.\" Automatically generated by Pandoc 3.6.2
.\"
.TH "ServiceWorkerRegistration.showNotification" "JS" "September 18, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ServiceWorkerRegistration.showNotification \- ServiceWorkerRegistration:
showNotification() method
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]showNotification()\f[B]\f[R] method of the
\f[CR]ServiceWorkerRegistration\f[R] interface creates a notification on
an active service worker.
.SH SYNTAX
.IP
.EX
showNotification(title)
showNotification(title, options)
.EE
.SS Parameters
.TP
\f[B]title\f[R]
Defines a title for the notification, which is shown at the top of the
notification window.
.TP
\f[B]options\f[R] \f[I](optional)\f[R]
An options object containing any custom settings that you want to apply
to the notification.
The possible options are:
.RS
.TP
\f[B]actions\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
An array of actions to display in the notification, for which the
default is an empty array.
Each element in the array can be an object with the following members:
.RS
.TP
\f[B]action\f[R]
A string identifying a user action to be displayed on the notification.
.TP
\f[B]title\f[R]
A string containing action text to be shown to the user.
.TP
\f[B]icon\f[R] \f[I](optional)\f[R]
A string containing the URL of an icon to display with the action.
.PP
Appropriate responses are built using \f[CR]event.action\f[R] within the
\f[CR]notificationclick\f[R] event.
.RE
.TP
\f[B]badge\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
A string containing the URL of the image used to represent the
notification when there isn\[cq]t enough space to display the
notification itself; for example, the Android Notification Bar.
On Android devices, the badge should accommodate devices up to 4x
resolution, about 96x96px, and the image will be automatically masked.
.TP
\f[B]body\f[R] \f[I](optional)\f[R]
A string representing the body text of the notification, which is
displayed below the title.
The default is the empty string.
.TP
\f[B]data\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
Arbitrary data that you want associated with the notification.
This can be of any structured\-clonable data type.
The default is \f[CR]null\f[R].
.TP
\f[B]dir\f[R] \f[I](optional)\f[R]
The direction in which to display the notification.
It defaults to \f[CR]auto\f[R], which just adopts the browser\[cq]s
language setting behavior, but you can override that behavior by setting
values of \f[CR]ltr\f[R] and \f[CR]rtl\f[R] (although most browsers seem
to ignore these settings.)
.TP
\f[B]icon\f[R] \f[I](optional)\f[R]
A string containing the URL of an icon to be displayed in the
notification.
.TP
\f[B]image\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
A string containing the URL of an image to be displayed in the
notification.
.TP
\f[B]lang\f[R] \f[I](optional)\f[R]
The notification\[cq]s language, as specified using a string
representing a language tag according to RFC 5646: Tags for Identifying
Languages (also known as BCP 47).
See the Sitepoint \c
.UR https://www.sitepoint.com/iso-2-letter-language-codes/
ISO 2 letter language codes
.UE \c
\ page for a simple reference.
The default is the empty string.
.TP
\f[B]renotify\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
A boolean value specifying whether the user should be notified after a
new notification replaces an old one.
The default is \f[CR]false\f[R], which means they won\[cq]t be notified.
If \f[CR]true\f[R], then \f[CR]tag\f[R] also must be set.
.TP
\f[B]requireInteraction\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
Indicates that a notification should remain active until the user clicks
or dismisses it, rather than closing automatically.
The default value is \f[CR]false\f[R].
.TP
\f[B]silent\f[R] \f[I](optional)\f[R]
A boolean value specifying whether the notification is silent (no sounds
or vibrations issued), regardless of the device settings.
The default, \f[CR]null\f[R], means to respect device defaults.
If \f[CR]true\f[R], then \f[CR]vibrate\f[R] must not be present.
.TP
\f[B]tag\f[R] \f[I](optional)\f[R]
A string representing an identifying tag for the notification.
The default is the empty string.
.TP
\f[B]timestamp\f[R] \f[I](optional)\f[R]
A timestamp, given as Unix time in milliseconds, representing the time
associated with the notification.
This could be in the past when a notification is used for a message that
couldn\[cq]t immediately be delivered because the device was offline, or
in the future for a meeting that is about to start.
.TP
\f[B]vibrate\f[R] \f[I](optional)\f[R] \f[I](experimental)\f[R]
A vibration pattern for the device\[cq]s vibration hardware to emit with
the notification.
If specified, \f[CR]silent\f[R] must not be \f[CR]true\f[R].
.RE
.SS Return value
A \f[CR]Promise\f[R] that resolves to \f[CR]undefined\f[R].
.SS Exceptions
.TP
\f[B]TypeError\f[R]
Thrown if:
.RS
.IP \[bu] 2
The current service worker\[cq]s state is not \f[CR]activating\f[R] or
\f[CR]activated\f[R].
.IP \[bu] 2
The user has explicitly denied the browser\[cq]s permission request to
use the API.
.IP \[bu] 2
The \f[CR]silent\f[R] option is \f[CR]true\f[R] and the
\f[CR]vibrate\f[R] option is specified.
.IP \[bu] 2
The \f[CR]renotify\f[R] option is \f[CR]true\f[R] but the \f[CR]tag\f[R]
option is empty.
.RE
.TP
\f[B]DataCloneError\f[R] \f[B]DOMException\f[R]
Thrown if serializing the \f[CR]data\f[R] option failed for some reason.
.SH EXAMPLES
.IP
.EX
navigator.serviceWorker.register(\[dq]sw.js\[dq]);

\f[B]function\f[R] showNotification() {
  Notification.requestPermission().then((result) \f[B]=>\f[R] {
    \f[B]if\f[R] (result === \[dq]granted\[dq]) {
      navigator.serviceWorker.ready.then((registration) \f[B]=>\f[R] {
        registration.showNotification(\[dq]Vibration Sample\[dq], {
          body: \[dq]Buzz! Buzz!\[dq],
          icon: \[dq]../images/touch/chrome\-touch\-icon\-192x192.png\[dq],
          vibrate: [200, 100, 200, 100, 200, 100, 200],
          tag: \[dq]vibration\-sample\[dq],
        });
      });
    }
  });
}
.EE
.PP
To invoke the above function at an appropriate time, you could listen to
the \f[CR]notificationclick\f[R] event.
.PP
You can also retrieve details of the \f[CR]Notification\f[R]s that have
been fired from the current service worker using
\f[CR]ServiceWorkerRegistration.getNotifications()\f[R].
