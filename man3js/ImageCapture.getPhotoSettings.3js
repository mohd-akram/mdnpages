.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "IMAGECAPTURE.GETPHOTOSETTINGS" "3JS" "February 26, 2025" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ImageCapture.getPhotoSettings \- ImageCapture: getPhotoSettings() method
.SH SYNOPSIS
The \f[B]\f[CB]getPhotoSettings()\f[B]\f[R] method of the
\f[CR]ImageCapture\f[R] interface returns a \f[CR]Promise\f[R] that
resolves with an object containing the current photo configuration
settings.
.SH SYNTAX
.IP
.EX
getPhotoSettings()
.EE
.SS Parameters
None.
.SS Return value
A \f[CR]Promise\f[R] that resolves with an object containing the
following properties:
.TP
\f[B]fillLightMode\f[R]
The flash setting of the capture device, one of \f[CR]\(dqauto\(dq\f[R],
\f[CR]\(dqoff\(dq\f[R], or \f[CR]\(dqflash\(dq\f[R].
.TP
\f[B]imageHeight\f[R]
The desired image height as an integer.
The browser selects the closest width value to this setting if it only
supports discrete heights.
.TP
\f[B]imageWidth\f[R]
The desired image width as an integer.
The browser selects the closest width value to this setting if it only
supports discrete widths.
.TP
\f[B]redEyeReduction\f[R]
A boolean indicating whether the red\-eye reduction should be used if it
is available.
.SS Exceptions
.TP
\f[B]InvalidStateError\f[R] \f[B]DOMException\f[R]
Thrown if \f[CR]readyState\f[R] property of the
\f[CR]MediaStreamTrack\f[R] passing in the constructor is not
\f[CR]live\f[R].
.TP
\f[B]OperationError\f[R] \f[B]DOMException\f[R]
Thrown if the operation can\(cqt complete for any reason.
.SH EXAMPLES
The following example, extracted from \c
.UR https://googlechrome.github.io/samples/image-capture/photo-resolution.html
Chrome\(cqs Image Capture / Photo Resolution Sample
.UE \c
, uses the results from \f[CR]getPhotoSettings()\f[R] to modify the size
of an input range.
This example also shows how the \f[CR]ImageCapture\f[R] object is
created using a \f[CR]MediaStreamTrack\f[R] retrieved from a device\(cqs
\f[CR]MediaStream\f[R].
.IP
.EX
\f[B]const\f[R] input = document.querySelector(\(aqinput[type=\(dqrange\(dq]\(aq);

\f[B]let\f[R] imageCapture;

navigator.mediaDevices
  .getUserMedia({ video: \f[B]true\f[R] })
  .then((mediaStream) \f[B]=>\f[R] {
    document.querySelector(\(dqvideo\(dq).srcObject = mediaStream;

    \f[B]const\f[R] track = mediaStream.getVideoTracks()[0];
    imageCapture = \f[B]new\f[R] ImageCapture(track);

    \f[B]return\f[R] imageCapture.getPhotoCapabilities();
  })
  .then((photoCapabilities) \f[B]=>\f[R] {
    \f[B]const\f[R] settings = imageCapture.track.getSettings();

    input.min = photoCapabilities.imageWidth.min;
    input.max = photoCapabilities.imageWidth.max;
    input.step = photoCapabilities.imageWidth.step;

    \f[B]return\f[R] imageCapture.getPhotoSettings();
  })
  .then((photoSettings) \f[B]=>\f[R] {
    input.value = photoSettings.imageWidth;
  })
  .catch((error) \f[B]=>\f[R] console.error(\(dqArgh!\(dq, error.name || error));
.EE
