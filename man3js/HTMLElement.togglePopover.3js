.\" Automatically generated by Pandoc 3.4
.\"
.TH "HTMLElement.togglePopover" "JS" "January 16, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
HTMLElement.togglePopover \- HTMLElement: togglePopover() method
.SH SYNOPSIS
The \f[B]\f[CB]togglePopover()\f[B]\f[R] method of the
\f[CR]HTMLElement\f[R] interface toggles a popover element (i.e.\ one
that has a valid \f[CR]popover\f[R] attribute) between the hidden and
showing states.
.PP
When \f[CR]togglePopover()\f[R] is called on an element with the
\f[CR]popover\f[R] attribute:
.IP "1." 3
A \f[CR]beforetoggle\f[R] event is fired.
.IP "2." 3
The popover toggles between hidden and showing:
.RS 4
.IP "1." 3
If it was initially showing, it toggles to hidden.
.IP "2." 3
If it was initially hidden, it toggles to showing.
.RE
.IP "3." 3
A \f[CR]toggle\f[R] event is fired.
.SH SYNTAX
.IP
.EX
togglePopover(force)
.EE
.SS Parameters
.TP
\f[B]force\f[R]
A boolean, which causes \f[CR]togglePopover()\f[R] to behave like
\f[CR]showPopover()\f[R] or \f[CR]hidePopover()\f[R], except that it
doesn\[cq]t throw an exception if the popover is already in the target
state.
.RS
.IP \[bu] 2
If set to \f[CR]true\f[R], the popover is shown if it was initially
hidden.
If it was initially shown, nothing happens.
.IP \[bu] 2
If set to \f[CR]false\f[R], the popover is hidden if it was initially
shown.
If it was initially hidden, nothing happens.
.RE
.SS Return value
\f[CR]true\f[R] if the popup is open after the call, and
\f[CR]false\f[R] otherwise.
.PP
None (\f[CR]undefined\f[R]) may be returned in older browser versions
(see browser compatibility).
.SH EXAMPLES
See the \c
.UR https://mdn.github.io/dom-examples/popover-api/
Popover API examples landing page
.UE \c
\ to access the full collection of MDN popover examples.
.SS Simple auto\-popup
This is a slightly modified version of the \c
.UR https://mdn.github.io/dom-examples/popover-api/toggle-help-ui/
Toggle Help UI Popover Example
.UE \c
\&.
The example toggles a popover on and off by pressing a particular key on
the keyboard (when the example window has focus).
.PP
The HTML for the example is shown below.
This first element defines instructions on how to invoke the popup,
which we need because popups are hidden by default.
.IP
.EX
<\f[B]p\f[R] id=\[dq]instructions\[dq]>
  Press \[dq]h\[dq] to toggle a help screen (select example window first).
</\f[B]p\f[R]>
.EE
.PP
We then define a \f[CR]<div>\f[R] element which is the popup.
The actual content doesn\[cq]t matter, but note that we need the
\f[CR]popover\f[R] attribute to make the \f[CR]<div>\f[R] into a popover
so that it is hidden by default (or we could set this element in the
JavaScript).
.IP
.EX
<\f[B]div\f[R] id=\[dq]mypopover\[dq] popover>
  <\f[B]h2\f[R]>Help!</\f[B]h2\f[R]>

  <\f[B]p\f[R]>You can use the following commands to control the app</\f[B]p\f[R]>

  <\f[B]ul\f[R]>
    <\f[B]li\f[R]>Press <\f[B]ins\f[R]>C</\f[B]ins\f[R]> to order cheese</\f[B]li\f[R]>
    <\f[B]li\f[R]>Press <\f[B]ins\f[R]>T</\f[B]ins\f[R]> to order tofu</\f[B]li\f[R]>
    <\f[B]li\f[R]>Press <\f[B]ins\f[R]>B</\f[B]ins\f[R]> to order bacon</\f[B]li\f[R]>
  </\f[B]ul\f[R]>
</\f[B]div\f[R]>
.EE
.PP
The JavaScript for the example is shown below.
First we check whether popovers are supported, and if they aren\[cq]t we
hide the popover \f[CR]div\f[R] so that it isn\[cq]t displayed inline.
.IP
.EX
\f[B]const\f[R] instructions = document.getElementById(\[dq]instructions\[dq]);
\f[B]const\f[R] popover = document.getElementById(\[dq]mypopover\[dq]);

\f[B]if\f[R] (!HTMLElement.prototype.hasOwnProperty(\[dq]popover\[dq])) {
  popover.innerText = \[dq]\[dq];
  instructions.innerText = \[dq]Popovers not supported\[dq];
}
.EE
.PP
If popovers are supported we add a listener for the \f[CR]h\f[R] key to
be pressed, and use that to trigger opening the popup.
We also log whether the popup was open or closed after the call, but
only if a \f[CR]true\f[R] or \f[CR]false\f[R] was returned.
.IP
.EX
\f[B]if\f[R] (HTMLElement.prototype.hasOwnProperty(\[dq]popover\[dq])) {
  document.addEventListener(\[dq]keydown\[dq], (event) \f[B]=>\f[R] {
    \f[B]if\f[R] (event.key === \[dq]h\[dq]) {
      \f[B]const\f[R] popupOpened = popover.togglePopover();

      \f[I]// Check if popover is opened or closed on supporting browsers\f[R]
      \f[B]if\f[R] (popupOpened !== \f[B]undefined\f[R]) {
        instructions.innerText +=
          popupOpened === \f[B]true\f[R] ? \[ga]\[rs]nOpened\[ga] : \[ga]\[rs]nClosed\[ga];
      }
    }
  });
}
.EE
.PP
You can test this out using the live example below.
.SH SEE ALSO
.IP \[bu] 2
\f[CR]popover\f[R] HTML global attribute
.IP \[bu] 2
Popover API
