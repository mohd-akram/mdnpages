.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "HTMLInputElement.webkitdirectory" "JS" "July 26, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
HTMLInputElement.webkitdirectory \- HTMLInputElement: webkitdirectory
property
.SH SYNOPSIS
The \f[B]\f[CB]HTMLInputElement.webkitdirectory\f[B]\f[R] is a property
that reflects the \f[CR]webkitdirectory\f[R] HTML attribute and
indicates that the \f[CR]<input>\f[R] element should let the user select
directories instead of files.
When a directory is selected, the directory and its entire hierarchy of
contents are included in the set of selected items.
The selected file system entries can be obtained using the
\f[CR]webkitEntries\f[R] property.
.RS
.PP
\f[B]Note:\f[R] This property is called \f[CR]webkitEntries\f[R] in the
specification due to its origins as a Google Chrome\-specific API.
It\[cq]s likely to be renamed someday.
.RE
.SH VALUE
A Boolean; \f[CR]true\f[R] if the \f[CR]<input>\f[R] element should
allow picking only directories or \f[CR]false\f[R] if only files should
be selectable.
.SH UNDERSTANDING THE RESULTS
After the user makes a selection, each \f[CR]File\f[R] object in
\f[CR]files\f[R] has its \f[CR]File.webkitRelativePath\f[R] property set
to the relative path within the selected directory at which the file is
located.
For example, consider this file system:
.IP \[bu] 2
PhotoAlbums
.RS 2
.IP \[bu] 2
Birthdays
.RS 2
.IP \[bu] 2
Jamie\[cq]s 1st birthday
.RS 2
.IP \[bu] 2
PIC1000.jpg
.IP \[bu] 2
PIC1004.jpg
.IP \[bu] 2
PIC1044.jpg
.RE
.IP \[bu] 2
Don\[cq]s 40th birthday
.RS 2
.IP \[bu] 2
PIC2343.jpg
.IP \[bu] 2
PIC2344.jpg
.IP \[bu] 2
PIC2355.jpg
.IP \[bu] 2
PIC2356.jpg
.RE
.RE
.IP \[bu] 2
Vacations
.RS 2
.IP \[bu] 2
Mars
.RS 2
.IP \[bu] 2
PIC5533.jpg
.IP \[bu] 2
PIC5534.jpg
.IP \[bu] 2
PIC5556.jpg
.IP \[bu] 2
PIC5684.jpg
.IP \[bu] 2
PIC5712.jpg
.RE
.RE
.RE
.PP
If the user chooses \f[CR]PhotoAlbums\f[R], then the list reported by
files will contain \f[CR]File\f[R] objects for every file listed
above\[em]but not the directories.
The entry for \f[CR]PIC2343.jpg\f[R] will have a
\f[CR]webkitRelativePath\f[R] of
\f[CR]PhotoAlbums/Birthdays/Don\[aq]s 40th birthday/PIC2343.jpg\f[R].
This makes it possible to know the hierarchy even though the
\f[CR]FileList\f[R] is flat.
.RS
.PP
\f[B]Note:\f[R] The behavior of \f[CR]webkitRelativePath\f[R] is
different in \f[I]Chromium < 72\f[R].
See \c
.UR https://crbug.com/124187
this bug
.UE \c
\ for further details.
.RE
.SH EXAMPLES
In this example, a directory picker is presented which lets the user
choose one or more directories.
When the \f[CR]change\f[R] event occurs, a list of all files contained
within the selected directory hierarchies is generated and displayed.
.SS HTML
.IP
.EX
<\f[B]input\f[R] type=\[dq]file\[dq] id=\[dq]filepicker\[dq] name=\[dq]fileList\[dq] webkitdirectory multiple />
<\f[B]ul\f[R] id=\[dq]listing\[dq]></\f[B]ul\f[R]>
.EE
.SS JavaScript
.IP
.EX
document.getElementById(\[dq]filepicker\[dq]).addEventListener(
  \[dq]change\[dq],
  (event) \f[B]=>\f[R] {
    \f[B]let\f[R] output = document.getElementById(\[dq]listing\[dq]);
    \f[B]for\f[R] (\f[B]const\f[R] file \f[B]of\f[R] event.target.files) {
      \f[B]let\f[R] item = document.createElement(\[dq]li\[dq]);
      item.textContent = file.webkitRelativePath;
      output.appendChild(item);
    }
  },
  \f[B]false\f[R],
);
.EE
.SS Result
.SH SEE ALSO
.IP \[bu] 2
File and Directory Entries API
.IP \[bu] 2
\f[CR]HTMLInputElement.webkitEntries\f[R]
.IP \[bu] 2
\f[CR]File.webkitRelativePath\f[R]
