.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "FileReader.readAsText" "JS" "December 2, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
FileReader.readAsText \- FileReader: readAsText() method
.SH SYNOPSIS
This feature is available in Web Workers.
.PP
The \f[B]\f[CB]readAsText()\f[B]\f[R] method of the
\f[CR]FileReader\f[R] interface is used to read the contents of the
specified \f[CR]Blob\f[R] or \f[CR]File\f[R].
When the read operation is complete, the \f[CR]readyState\f[R] is
changed to \f[CR]DONE\f[R], the \f[CR]loadend\f[R] event is triggered,
and the \f[CR]result\f[R] property contains the contents of the file as
a text string.
.RS
.PP
\f[B]Note:\f[R] The \f[CR]Blob.text()\f[R] method is a newer
promise\-based API to read a file as text.
.RE
.RS
.PP
\f[B]Note:\f[R] This method loads the entire file\[cq]s content into
memory and is not suitable for large files.
Prefer \f[CR]readAsArrayBuffer()\f[R] for large files.
.RE
.SH SYNTAX
.IP
.EX
readAsText(blob)
readAsText(blob, encoding)
.EE
.SS Parameters
.TP
\f[B]blob\f[R]
The \f[CR]Blob\f[R] or \f[CR]File\f[R] from which to read.
.TP
\f[B]encoding\f[R] \f[I](optional)\f[R]
A string specifying the encoding to use for the returned data.
By default, UTF\-8 is assumed if this parameter is not specified.
.SS Return value
None (\f[CR]undefined\f[R]).
.SH EXAMPLES
.SS HTML
.IP
.EX
<\f[B]input\f[R] type=\[dq]file\[dq] onchange=\[dq]previewFile()\[dq] /><\f[B]br\f[R] />
<\f[B]p\f[R] class=\[dq]content\[dq]></\f[B]p\f[R]>
.EE
.SS JavaScript
.IP
.EX
\f[B]function\f[R] previewFile() {
  \f[B]const\f[R] content = document.querySelector(\[dq].content\[dq]);
  \f[B]const\f[R] [file] = document.querySelector(\[dq]input[type=file]\[dq]).files;
  \f[B]const\f[R] reader = \f[B]new\f[R] FileReader();

  reader.addEventListener(
    \[dq]load\[dq],
    () \f[B]=>\f[R] {
      \f[I]// this will then display a text file\f[R]
      content.innerText = reader.result;
    },
    \f[B]false\f[R],
  );

  \f[B]if\f[R] (file) {
    reader.readAsText(file);
  }
}
.EE
.SS Result
.SH SEE ALSO
.IP \[bu] 2
\f[CR]FileReader\f[R]
