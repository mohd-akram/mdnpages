.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "FileSystemDirectoryEntry.createReader" "JS" "March 12, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
FileSystemDirectoryEntry.createReader \- FileSystemDirectoryEntry:
createReader() method
.SH SYNOPSIS
The \f[CR]FileSystemDirectoryEntry\f[R] interface\[cq]s method
\f[B]\f[CB]createReader()\f[B]\f[R] returns a
\f[CR]FileSystemDirectoryReader\f[R] object which can be used to read
the entries in the directory.
.SH SYNTAX
.IP
.EX
createReader()
.EE
.SS Parameters
None.
.SS Return value
A \f[CR]FileSystemDirectoryReader\f[R] object which can be used to read
the directory\[cq]s entries.
.SH EXAMPLES
This example creates a method called \f[CR]readDirectory()\f[R], which
fetches all of the entries in the specified
\f[CR]FileSystemDirectoryEntry\f[R] and returns them in an array.
.IP
.EX
\f[B]function\f[R] readDirectory(directory) {
  \f[B]let\f[R] dirReader = directory.createReader();
  \f[B]let\f[R] entries = [];

  \f[B]let\f[R] getEntries = () \f[B]=>\f[R] {
    dirReader.readEntries(
      (results) \f[B]=>\f[R] {
        \f[B]if\f[R] (results.length) {
          entries = entries.concat(toArray(results));
          getEntries();
        }
      },
      (error) \f[B]=>\f[R] {
        \f[I]/* handle error \[em] error is a FileError object */\f[R]
      },
    );
  };

  getEntries();
  \f[B]return\f[R] entries;
}
.EE
.PP
This works by creating an internal function, \f[CR]getEntries()\f[R],
which calls itself recursively to get all the entries in the directory,
concatenating each batch to the array.
Each iteration, \f[CR]readEntries()\f[R] is called to get more entries.
When it returns an empty array, the end of the directory has been
reached, and the recursion ends.
Once control is returned to \f[CR]readDirectory()\f[R], the array is
returned to the caller.
.SH SEE ALSO
.IP \[bu] 2
File and Directory Entries API
.IP \[bu] 2
Introduction to the File and Directory Entries API
.IP \[bu] 2
\f[CR]FileSystemDirectoryReader\f[R]
.IP \[bu] 2
\f[CR]FileSystemDirectoryEntry\f[R]
.IP \[bu] 2
\f[CR]FileSystemFileEntry\f[R]
.IP \[bu] 2
\f[CR]FileSystemEntry\f[R]
