.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "IDBRequest.error" "JS" "March 6, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
IDBRequest.error \- IDBRequest: error property
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]error\f[B]\f[R] read\-only property of the
\f[CR]IDBRequest\f[R] interface returns the error in the event of an
unsuccessful request.
.SH VALUE
A \f[CR]DOMException\f[R] or \f[CR]null\f[R] if there is no error.
The following error names are returned in the exception object:
.TP
\f[B]AbortError\f[R]
If you abort the transaction, then all requests still in progress
receive this error.
.TP
\f[B]ConstraintError\f[R]
If you insert data that doesn\[cq]t conform to a constraint.
It\[cq]s an exception type for creating stores and indexes.
You get this error, for example, if you try to add a new key that
already exists in the record.
.TP
\f[B]QuotaExceededError\f[R]
If you run out of disk quota and the user declined to grant you more
space.
.TP
\f[B]UnknownError\f[R]
If the operation failed for reasons unrelated to the database itself.
A failure due to disk IO errors is such an example.
.TP
\f[B]VersionError\f[R]
If you try to open a database with a version lower than the one it
already has.
.PP
In addition to the error codes sent to the \f[CR]IDBRequest\f[R] object,
asynchronous operations can also raise exceptions.
The list describes problems that could occur when the request is being
executed, but you might also encounter other problems when the request
is being made.
For example, if the result is accessed while the request is not
completed, the \f[CR]InvalidStateError\f[R] exception is thrown.
.SH EXAMPLES
The following example requests a given record title,
\f[CR]onsuccess\f[R] gets the associated record from the
\f[CR]IDBObjectStore\f[R] (made available as
\f[CR]objectStoreTitleRequest.result\f[R]), updates one property of the
record, and then puts the updated record back into the object store.
Also included at the bottom is an \f[CR]onerror\f[R] function that
reports what the error was if the request fails.
For a full working example, see our \c
.UR https://github.com/mdn/dom-examples/tree/main/to-do-notifications
To\-do Notifications
.UE \c
\ app (\c
.UR https://mdn.github.io/dom-examples/to-do-notifications/
View the example live
.UE \c
).
.IP
.EX
\f[B]const\f[R] title = \[dq]Walk dog\[dq];

\f[I]// Open up a transaction as usual\f[R]
\f[B]const\f[R] objectStore = db
  .transaction([\[dq]toDoList\[dq]], \[dq]readwrite\[dq])
  .objectStore(\[dq]toDoList\[dq]);

\f[I]// Get the to\-do list with the specified title\f[R]
\f[B]const\f[R] objectStoreTitleRequest = objectStore.get(title);

objectStoreTitleRequest.onsuccess = () \f[B]=>\f[R] {
  \f[I]// Grab the data object returned as the result\f[R]
  \f[B]const\f[R] data = objectStoreTitleRequest.result;

  \f[I]// Update the notified value in the object to \[dq]yes\[dq]\f[R]
  data.notified = \[dq]yes\[dq];

  \f[I]// Create another request that inserts the item\f[R]
  \f[I]// back into the database\f[R]
  \f[B]const\f[R] updateTitleRequest = objectStore.put(data);

  \f[I]// When this new request succeeds, run the displayData()\f[R]
  \f[I]// function again to update the display\f[R]
  updateTitleRequest.onsuccess = () \f[B]=>\f[R] {
    displayData();
  };
};

objectStoreTitleRequest.onerror = () \f[B]=>\f[R] {
  \f[I]// If an error occurs with the request, log what it is\f[R]
  console.log(
    \[ga]There has been an error with retrieving your data: ${objectStoreTitleRequest.error}\[ga],
  );
};
.EE
.SH SEE ALSO
.IP \[bu] 2
Using IndexedDB
.IP \[bu] 2
Starting transactions: \f[CR]IDBDatabase\f[R]
.IP \[bu] 2
Using transactions: \f[CR]IDBTransaction\f[R]
.IP \[bu] 2
Setting a range of keys: \f[CR]IDBKeyRange\f[R]
.IP \[bu] 2
Retrieving and making changes to your data: \f[CR]IDBObjectStore\f[R]
.IP \[bu] 2
Using cursors: \f[CR]IDBCursor\f[R]
.IP \[bu] 2
Reference example: \c
.UR https://github.com/mdn/dom-examples/tree/main/to-do-notifications
To\-do Notifications
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/to-do-notifications/
View the example live
.UE \c
).
