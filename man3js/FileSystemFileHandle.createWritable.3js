.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "FileSystemFileHandle.createWritable" "JS" "April 5, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
FileSystemFileHandle.createWritable \- FileSystemFileHandle:
createWritable() method
.SH SYNOPSIS
\f[B]Secure context\f[R]: This feature is available only in secure
contexts (HTTPS).This feature is available in Web Workers.
.PP
The \f[B]\f[CB]createWritable()\f[B]\f[R] method of the
\f[CR]FileSystemFileHandle\f[R] interface creates a
\f[CR]FileSystemWritableFileStream\f[R] that can be used to write to a
file.
The method returns a \f[CR]Promise\f[R] which resolves to this created
stream.
.PP
Any changes made through the stream won\[cq]t be reflected in the file
represented by the file handle until the stream has been closed.
This is typically implemented by writing data to a temporary file, and
only replacing the file represented by file handle with the temporary
file when the writable filestream is closed.
.SH SYNTAX
.IP
.EX
createWritable()
createWritable(options)
.EE
.SS Parameters
.TP
\f[B]options\f[R] \f[I](optional)\f[R]
An object with the following properties:
.RS
.TP
\f[B]keepExistingData\f[R] \f[I](optional)\f[R]
A \f[CR]Boolean\f[R].
Default \f[CR]false\f[R].
When set to \f[CR]true\f[R] if the file exists, the existing file is
first copied to the temporary file.
Otherwise the temporary file starts out empty.
.RE
.SS Return value
A \f[CR]Promise\f[R] which resolves to a
\f[CR]FileSystemWritableFileStream\f[R] object.
.SS Exceptions
.TP
\f[B]NotAllowedError\f[R] \f[B]DOMException\f[R]
Thrown if the \f[CR]PermissionStatus.state\f[R] for the handle is not
\f[CR]\[aq]granted\[aq]\f[R] in \f[CR]readwrite\f[R] mode.
.TP
\f[B]NotFoundError\f[R] \f[B]DOMException\f[R]
Thrown if current entry is not found.
.TP
\f[B]NoModificationAllowedError\f[R] \f[B]DOMException\f[R]
Thrown if the browser is not able to acquire a lock on the file
associated with the file handle.
.TP
\f[B]AbortError\f[R] \f[B]DOMException\f[R]
Thrown if implementation\-defined malware scans and safe\-browsing
checks fails.
.SH EXAMPLES
The following asynchronous function writes the given contents to the
file handle, and thus to disk.
.IP
.EX
\f[B]async\f[R] \f[B]function\f[R] writeFile(fileHandle, contents) {
  \f[I]// Create a FileSystemWritableFileStream to write to.\f[R]
  \f[B]const\f[R] writable = \f[B]await\f[R] fileHandle.createWritable();

  \f[I]// Write the contents of the file to the stream.\f[R]
  \f[B]await\f[R] writable.write(contents);

  \f[I]// Close the file and write the contents to disk.\f[R]
  \f[B]await\f[R] writable.close();
}
.EE
.SH SEE ALSO
.IP \[bu] 2
File System API
.IP \[bu] 2
\c
.UR https://developer.chrome.com/docs/capabilities/web-apis/file-system-access
The File System Access API: simplifying access to local files
.UE \c
