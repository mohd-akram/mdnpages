.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "ReadableStreamBYOBRequest.respond" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ReadableStreamBYOBRequest.respond \- ReadableStreamBYOBRequest:
respond() method
.SH SYNOPSIS
The \f[B]\f[CB]respond()\f[B]\f[R] method of the
\f[CR]ReadableStreamBYOBRequest\f[R] interface is used to signal to the
associated readable byte stream that the specified number of bytes were
written into the \f[CR]ReadableStreamBYOBRequest.view\f[R].
.PP
After this method is called, the \f[CR]view\f[R] will be transferred and
no longer modifiable.
.SH SYNTAX
.IP
.EX
respond(bytesWritten)
.EE
.SS Parameters
.TP
\f[B]bytesWritten\f[R]
The number of bytes written into
\f[CR]ReadableStreamBYOBRequest.view\f[R].
.SS Return value
None (\f[CR]undefined\f[R]).
.SS Exceptions
.TP
\f[B]TypeError\f[R]
The request does not have an associated
\f[CR]ReadableByteStreamController\f[R] or the view buffer is not
detached/cannot be transferred into.
.SH EXAMPLES
The code below is taken from the live examples in Using readable byte
stream.
.PP
The method is called by an underlying byte source as part of making a
zero\-copy transfer of data to fulfill a pending read request from a
consumer.
The underlying source first writes data into the
\f[CR]ReadableStreamBYOBRequest.view\f[R] and then calls this
\f[CR]respond()\f[R] method to indicate \f[I]how\f[R] much data was
copied into the buffer, and cause the data to be transferred to the
reader.
.PP
The code below shows this case using a hypothetical
\f[CR]readInto()\f[R] method to copy data into the view:
.IP
.EX
const v = controller.byobRequest.view;
bytesRead = socket.readInto(v.buffer, v.byteOffset, v.byteLength);
controller.byobRequest.respond(bytesRead);
.EE
.PP
After the operation the \f[CR]byobRequest.view\f[R] is detached and the
request should be discarded.
.SH SEE ALSO
.IP \[bu] 2
Using readable byte stream
