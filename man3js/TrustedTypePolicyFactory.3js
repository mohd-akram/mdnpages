.\" Automatically generated by Pandoc 3.4
.\"
.TH "TrustedTypePolicyFactory" "JS" "August 3, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
TrustedTypePolicyFactory \- TrustedTypePolicyFactory
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]TrustedTypePolicyFactory\f[B]\f[R] interface of the
Trusted Types API creates policies and allows the verification of
Trusted Type objects against created policies.
.SH INSTANCE PROPERTIES
.TP
\f[B]TrustedTypePolicyFactory.emptyHTML\f[R] \f[I](read\-only)\f[R]
Returns a \f[CR]TrustedHTML\f[R] object containing an empty string.
.TP
\f[B]TrustedTypePolicyFactory.emptyScript\f[R] \f[I](read\-only)\f[R]
Returns a \f[CR]TrustedScript\f[R] object containing an empty string.
.TP
\f[B]TrustedTypePolicyFactory.defaultPolicy\f[R] \f[I](read\-only)\f[R]
Returns the default \f[CR]TrustedTypePolicy\f[R] or null if this is
empty.
.SH INSTANCE METHODS
.TP
\f[B]TrustedTypePolicyFactory.createPolicy()\f[R]
Creates a \f[CR]TrustedTypePolicy\f[R] object that implements the rules
passed as \f[CR]policyOptions\f[R].
.TP
\f[B]TrustedTypePolicyFactory.isHTML()\f[R]
When passed a value checks that it is a valid \f[CR]TrustedHTML\f[R]
object.
.TP
\f[B]TrustedTypePolicyFactory.isScript()\f[R]
When passed a value checks that it is a valid \f[CR]TrustedScript\f[R]
object.
.TP
\f[B]TrustedTypePolicyFactory.isScriptURL()\f[R]
When passed a value checks that it is a valid
\f[CR]TrustedScriptURL\f[R] object.
.TP
\f[B]TrustedTypePolicyFactory.getAttributeType()\f[R]
Allows web developers to check whether a Trusted Type is required for an
element and attribute, and if so which one.
.TP
\f[B]TrustedTypePolicyFactory.getPropertyType()\f[R]
Allows web developers to check whether a Trusted Type is required for a
property, and if so which one.
.SH EXAMPLES
The below code creates a policy with the name
\f[CR]\[dq]myEscapePolicy\[dq]\f[R] with a function defined for
\f[CR]createHTML()\f[R] which sanitizes HTML.
.PP
We then use the policy to sanitize a string, creating a
\f[CR]TrustedHTML\f[R] object, \f[CR]escaped\f[R].
This object can be tested with \f[CR]isHTML()\f[R] to ensure that it was
created by one of our policies.
.IP
.EX
\f[B]const\f[R] escapeHTMLPolicy = trustedTypes.createPolicy(\[dq]myEscapePolicy\[dq], {
  createHTML: (string) \f[B]=>\f[R] string.replace(/</g, \[dq]&lt;\[dq]),
});

\f[B]const\f[R] escaped = escapeHTMLPolicy.createHTML(\[dq]<img src=x onerror=alert(1)>\[dq]);

console.log(trustedTypes.isHTML(escaped)); \f[I]// true;\f[R]
.EE
