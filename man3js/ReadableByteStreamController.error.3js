.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "READABLEBYTESTREAMCONTROLLER.ERROR" "3JS" "April 22, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ReadableByteStreamController.error \- ReadableByteStreamController:
error() method
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]error()\f[B]\f[R] method of the
\f[CR]ReadableByteStreamController\f[R] interface causes any future
interactions with the associated stream to error with the specified
reason.
.PP
This is commonly called by an underlying source to surface an error from
the interface where it gets its data (such as a file\-read or socket
error).
It can also be called from elsewhere to trigger a stream error, for
example if another part of the system that the stream relies on fails.
.SH SYNTAX
.IP
.EX
error(errorObject)
.EE
.SS Parameters
.TP
\f[B]errorObject\f[R]
Any object that you want future interactions to fail with.
.SS Return value
None (\f[CR]undefined\f[R]).
.SS Exceptions
.TP
\f[B]TypeError\f[R]
Thrown if the source object is not a
\f[CR]ReadableByteStreamController\f[R], or the stream is not readable
for some other reason.
.SH EXAMPLES
The example in Using readable byte streams > Creating a readable socket
push byte stream shows how you might use \f[CR]error()\f[R] to manually
trigger a stream error if another part of the system it relies on fails.
.PP
Specifically, the underlying source \f[CR]start()\f[R] method calls
\f[CR]readRepeatedly()\f[R] to perform all setup operations and to make
a request for data.
This returns a promise.
If there are any errors thrown when reading the data they will be caught
by the chained \f[CR]catch()\f[R] function.
In \f[CR]catch()\f[R] we then call \f[CR]error()\f[R] on the controller,
passing the reason from the underlying source.
.IP
.EX
\f[B]function\f[R] start(controller) {
  readRepeatedly().catch((e) \f[B]=>\f[R] controller.error(e));
}

\f[B]function\f[R] readRepeatedly() {
  \f[B]return\f[R] socket.select2().then(() \f[B]=>\f[R] {
    \f[I]// \&...\f[R]
  });
}
.EE
.SH SEE ALSO
.IP \(bu 2
Using readable byte streams
