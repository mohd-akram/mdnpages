.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "IDBVersionChangeEvent.oldVersion" "JS" "March 6, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
IDBVersionChangeEvent.oldVersion \- IDBVersionChangeEvent: oldVersion
property
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]oldVersion\f[B]\f[R] read\-only property of the
\f[CR]IDBVersionChangeEvent\f[R] interface returns the old version
number of the database.
.PP
When the opened database doesn\[cq]t exist yet, the value of
\f[CR]oldVersion\f[R] is 0.
.SH VALUE
A number containing a 64\-bit integer.
.SH EXAMPLES
.IP
.EX
\f[B]const\f[R] dbName = \[dq]sampleDB\[dq];
\f[B]const\f[R] dbVersion = 2;
\f[B]const\f[R] request = indexedDB.open(dbName, dbVersion);

request.onupgradeneeded = (e) \f[B]=>\f[R] {
  \f[B]const\f[R] db = request.result;
  \f[B]if\f[R] (e.oldVersion < 1) {
    db.createObjectStore(\[dq]store1\[dq]);
  }

  \f[B]if\f[R] (e.oldVersion < 2) {
    db.deleteObjectStore(\[dq]store1\[dq]);
    db.createObjectStore(\[dq]store2\[dq]);
  }

  \f[I]// etc. for version < 3, 4\&...\f[R]
};
.EE
.SH SEE ALSO
.IP \[bu] 2
Using IndexedDB
.IP \[bu] 2
Starting transactions: \f[CR]IDBDatabase\f[R]
.IP \[bu] 2
Using transactions: \f[CR]IDBTransaction\f[R]
.IP \[bu] 2
Setting a range of keys: \f[CR]IDBKeyRange\f[R]
.IP \[bu] 2
Retrieving and making changes to your data: \f[CR]IDBObjectStore\f[R]
.IP \[bu] 2
Using cursors: \f[CR]IDBCursor\f[R]
.IP \[bu] 2
Reference example: \c
.UR https://github.com/mdn/dom-examples/tree/main/to-do-notifications
To\-do Notifications
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/to-do-notifications/
View the example live
.UE \c
).
