.\" Automatically generated by Pandoc 3.6.2
.\"
.TH "Response" "JS" "October 8, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Response \- Response
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]Response\f[B]\f[R] interface of the Fetch API represents
the response to a request.
.PP
You can create a new \f[CR]Response\f[R] object using the
\f[CR]Response()\f[R] constructor, but you are more likely to encounter
a \f[CR]Response\f[R] object being returned as the result of another API
operation\[em]for example, a service worker
\f[CR]FetchEvent.respondWith\f[R], or a simple \f[CR]fetch()\f[R].
.SH CONSTRUCTOR
.TP
\f[B]Response()\f[R]
Creates a new \f[CR]Response\f[R] object.
.SH INSTANCE PROPERTIES
.TP
\f[B]Response.body\f[R] \f[I](read\-only)\f[R]
A \f[CR]ReadableStream\f[R] of the body contents.
.TP
\f[B]Response.bodyUsed\f[R] \f[I](read\-only)\f[R]
Stores a boolean value that declares whether the body has been used in a
response yet.
.TP
\f[B]Response.headers\f[R] \f[I](read\-only)\f[R]
The \f[CR]Headers\f[R] object associated with the response.
.TP
\f[B]Response.ok\f[R] \f[I](read\-only)\f[R]
A boolean indicating whether the response was successful (status in the
range \f[CR]200\f[R] \[en] \f[CR]299\f[R]) or not.
.TP
\f[B]Response.redirected\f[R] \f[I](read\-only)\f[R]
Indicates whether or not the response is the result of a redirect (that
is, its URL list has more than one entry).
.TP
\f[B]Response.status\f[R] \f[I](read\-only)\f[R]
The status code of the response.
(This will be \f[CR]200\f[R] for a success).
.TP
\f[B]Response.statusText\f[R] \f[I](read\-only)\f[R]
The status message corresponding to the status code.
(e.g., \f[CR]OK\f[R] for \f[CR]200\f[R]).
.TP
\f[B]Response.type\f[R] \f[I](read\-only)\f[R]
The type of the response (e.g., \f[CR]basic\f[R], \f[CR]cors\f[R]).
.TP
\f[B]Response.url\f[R] \f[I](read\-only)\f[R]
The URL of the response.
.SH STATIC METHODS
.TP
\f[B]Response.error()\f[R]
Returns a new \f[CR]Response\f[R] object associated with a network
error.
.TP
\f[B]Response.redirect()\f[R]
Returns a new response with a different URL.
.TP
\f[B]Response.json()\f[R]
Returns a new \f[CR]Response\f[R] object for returning the provided JSON
encoded data.
.SH INSTANCE METHODS
.TP
\f[B]Response.arrayBuffer()\f[R]
Returns a promise that resolves with an \f[CR]ArrayBuffer\f[R]
representation of the response body.
.TP
\f[B]Response.blob()\f[R]
Returns a promise that resolves with a \f[CR]Blob\f[R] representation of
the response body.
.TP
\f[B]Response.bytes()\f[R]
Returns a promise that resolves with a \f[CR]Uint8Array\f[R]
representation of the response body.
.TP
\f[B]Response.clone()\f[R]
Creates a clone of a \f[CR]Response\f[R] object.
.TP
\f[B]Response.formData()\f[R]
Returns a promise that resolves with a \f[CR]FormData\f[R]
representation of the response body.
.TP
\f[B]Response.json()\f[R]
Returns a promise that resolves with the result of parsing the response
body text as \f[CR]JSON\f[R].
.TP
\f[B]Response.text()\f[R]
Returns a promise that resolves with a text representation of the
response body.
.SH EXAMPLES
.SS Fetching an image
In our \c
.UR https://github.com/mdn/dom-examples/tree/main/fetch/basic-fetch
basic fetch example
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/fetch/basic-fetch/
run example live
.UE \c
) we use a simple \f[CR]fetch()\f[R] call to grab an image and display
it in an \f[CR]<img>\f[R] element.
The \f[CR]fetch()\f[R] call returns a promise, which resolves to the
\f[CR]Response\f[R] object associated with the resource fetch operation.
.PP
You\[cq]ll notice that since we are requesting an image, we need to run
\f[CR]Response.blob\f[R] to give the response its correct MIME type.
.IP
.EX
\f[B]const\f[R] image = document.querySelector(\[dq].my\-image\[dq]);
fetch(\[dq]flowers.jpg\[dq])
  .then((response) \f[B]=>\f[R] response.blob())
  .then((blob) \f[B]=>\f[R] {
    \f[B]const\f[R] objectURL = URL.createObjectURL(blob);
    image.src = objectURL;
  });
.EE
.PP
You can also use the \f[CR]Response()\f[R] constructor to create your
own custom \f[CR]Response\f[R] object:
.IP
.EX
\f[B]const\f[R] response = \f[B]new\f[R] Response();
.EE
.SS A PHP Call
Here we call a PHP program file that generates a JSON string, displaying
the result as a JSON value.
.IP
.EX
\f[I]// Function to fetch JSON using PHP\f[R]
\f[B]const\f[R] getJSON = \f[B]async\f[R] () \f[B]=>\f[R] {
  \f[I]// Generate the Response object\f[R]
  \f[B]const\f[R] response = \f[B]await\f[R] fetch(\[dq]getJSON.php\[dq]);
  \f[B]if\f[R] (response.ok) {
    \f[I]// Get JSON value from the response body\f[R]
    \f[B]return\f[R] response.json();
  }
  \f[B]throw\f[R] \f[B]new\f[R] Error(\[dq]*** PHP file not found\[dq]);
};

\f[I]// Call the function and output value or error message to console\f[R]
getJSON()
  .then((result) \f[B]=>\f[R] console.log(result))
  .catch((error) \f[B]=>\f[R] console.error(error));
.EE
.SH SEE ALSO
.IP \[bu] 2
ServiceWorker API
.IP \[bu] 2
HTTP access control (CORS)
.IP \[bu] 2
HTTP
