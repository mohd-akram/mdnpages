.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "DATATRANSFER.DROPEFFECT" "3JS" "July 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
DataTransfer.dropEffect \- DataTransfer: dropEffect property
.SH SYNOPSIS
The \f[B]\f[CB]DataTransfer.dropEffect\f[B]\f[R] property controls the
feedback (typically visual) the user is given during a drag and drop
operation.
It will affect which cursor is displayed while dragging.
For example, when the user hovers over a target drop element, the
browser\(cqs cursor may indicate which type of operation will occur.
.PP
When the \f[CR]DataTransfer\f[R] object is created,
\f[CR]dropEffect\f[R] is set to a string value.
On getting, it returns its current value.
On setting, if the new value is one of the values listed below, then the
property\(cqs current value will be set to the new value and other
values will be ignored.
.PP
For the \f[CR]dragenter\f[R] and \f[CR]dragover\f[R] events,
\f[CR]dropEffect\f[R] will be initialized based on what action the user
is requesting.
How this is determined is platform specific, but typically the user can
press modifier keys such as the alt key to adjust the desired action.
Within event handlers for \f[CR]dragenter\f[R] and \f[CR]dragover\f[R]
events, \f[CR]dropEffect\f[R] should be modified if a different action
is desired than the action that the user is requesting.
.PP
For the \f[CR]drop\f[R] and \f[CR]dragend\f[R] events,
\f[CR]dropEffect\f[R] will be set to the action that was desired, which
will be the value \f[CR]dropEffect\f[R] had after the last
\f[CR]dragenter\f[R] or \f[CR]dragover\f[R] event.
In a \f[CR]dragend\f[R] event, for instance, if the desired dropEffect
is \(lqmove\(rq, then the data being dragged should be removed from the
source.
.SH VALUE
A string representing the drag operation effect.
The possible values are:
.TP
\f[B]copy\f[R]
A copy of the source item is made at the new location.
.TP
\f[B]move\f[R]
An item is moved to a new location.
.TP
\f[B]link\f[R]
A link is established to the source at the new location.
.TP
\f[B]none\f[R]
The item may not be dropped.
.PP
Assigning any other value to \f[CR]dropEffect\f[R] has no effect and the
old value is retained.
.SH EXAMPLE
This example shows the use of the \f[CR]dropEffect\f[R] and
\f[CR]effectAllowed\f[R] properties.
.SS HTML
.IP
.EX
<\f[B]div\f[R]>
  <\f[B]p\f[R] id=\(dqsource\(dq ondragstart=\(dqdragstart_handler(event);\(dq draggable=\(dqtrue\(dq>
    Select this element, drag it to the Drop Zone and then release the selection
    to move the element.
  </\f[B]p\f[R]>
</\f[B]div\f[R]>
<\f[B]div\f[R]
  id=\(dqtarget\(dq
  ondrop=\(dqdrop_handler(event);\(dq
  ondragover=\(dqdragover_handler(event);\(dq>
  Drop Zone
</\f[B]div\f[R]>
.EE
.SS CSS
.IP
.EX
div {
  \f[B]margin\f[R]: 0em;
  \f[B]padding\f[R]: 2em;
}

source {
  \f[B]color\f[R]: blue;
  \f[B]border\f[R]: 1px solid black;
}

target {
  \f[B]border\f[R]: 1px solid black;
}
.EE
.SS JavaScript
.IP
.EX
\f[B]function\f[R] dragstart_handler(ev) {
  console.log(
    \(gadragStart: dropEffect = ${ev.dataTransfer.dropEffect} ; effectAllowed = ${ev.dataTransfer.effectAllowed}\(ga,
  );

  \f[I]// Add this element\(aqs id to the drag payload so the drop handler will\f[R]
  \f[I]// know which element to add to its tree\f[R]
  ev.dataTransfer.setData(\(dqtext\(dq, ev.target.id);
  ev.dataTransfer.effectAllowed = \(dqmove\(dq;
}

\f[B]function\f[R] drop_handler(ev) {
  console.log(
    \(gadrop: dropEffect = ${ev.dataTransfer.dropEffect} ; effectAllowed = ${ev.dataTransfer.effectAllowed}\(ga,
  );
  ev.preventDefault();

  \f[I]// Get the id of the target and add the moved element to the target\(aqs DOM\f[R]
  \f[B]const\f[R] data = ev.dataTransfer.getData(\(dqtext\(dq);
  ev.target.appendChild(document.getElementById(data));
}

\f[B]function\f[R] dragover_handler(ev) {
  console.log(
    \(gadragOver: dropEffect = ${ev.dataTransfer.dropEffect} ; effectAllowed = ${ev.dataTransfer.effectAllowed}\(ga,
  );
  ev.preventDefault();
  \f[I]// Set the dropEffect to move\f[R]
  ev.dataTransfer.dropEffect = \(dqmove\(dq;
}
.EE
.SH SEE ALSO
.IP \(bu 2
Drag and drop
.IP \(bu 2
Drag Operations
.IP \(bu 2
Recommended Drag Types
.IP \(bu 2
\c
.UR https://codepen.io/tech_query/pen/MqGgap
DataTransfer test \- Paste or Drag
.UE \c
