.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "MediaStream.removeTrack" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
MediaStream.removeTrack \- MediaStream: removeTrack() method
.SH SYNOPSIS
The \f[B]\f[CB]removeTrack()\f[B]\f[R] method of the
\f[CR]MediaStream\f[R] interface removes a \f[CR]MediaStreamTrack\f[R]
from a stream.
.SH SYNTAX
.IP
.EX
removeTrack(track)
.EE
.SS Parameters
.TP
\f[B]track\f[R]
A \f[CR]MediaStreamTrack\f[R] that will be removed from the stream.
.SS Return value
None (\f[CR]undefined\f[R]).
.SH EXAMPLES
The following example demonstrates how to remove the audio and video
tracks from a \f[CR]MediaStream\f[R].
\f[CR]fetchStreamFunction\f[R] is an event handler for
\f[CR]fetchStreamButton\f[R].
When the button is clicked, audio and video are captured from the
system\[cq]s devices.
\f[CR]removeTracksFunction\f[R] is the event handler for
\f[CR]removeTracksButton\f[R].
When this button is clicked, the audio and video tracks are removed from
the \f[CR]MediaStream\f[R].
.IP
.EX
\f[B]let\f[R] initialStream = \f[B]null\f[R];
\f[B]let\f[R] newStream = \f[B]null\f[R];

\f[B]let\f[R] fetchStreamButton = document.getElementById(\[dq]fetchStream\[dq]);
\f[B]let\f[R] removeTracksButton = document.getElementById(\[dq]removeTracks\[dq]);

\f[B]async\f[R] \f[B]function\f[R] fetchStreamFunction() {
  initialStream = \f[B]await\f[R] navigator.mediaDevices.getUserMedia({
    video: { width: 620, height: 310 },
    audio: \f[B]true\f[R],
  });
  \f[B]if\f[R] (initialStream) {
    \f[B]await\f[R] attachToDOM(initialStream);
  }
}

\f[B]async\f[R] \f[B]function\f[R] attachToDOM(stream) {
  newStream = \f[B]new\f[R] MediaStream(stream.getTracks());
  document.querySelector(\[dq]video\[dq]).srcObject = newStream;
}

\f[B]async\f[R] \f[B]function\f[R] removeTracksFunction() {
  \f[B]let\f[R] videoTrack = newStream.getVideoTracks()[0];
  \f[B]let\f[R] audioTrack = newStream.getAudioTracks()[0];

  newStream.removeTrack(videoTrack);
  newStream.removeTrack(audioTrack);

  \f[I]// Stream will be empty\f[R]
  console.log(newStream.getTracks());
}

fetchStreamButton.addEventListener(\[dq]click\[dq], fetchStreamFunction);
removeTracksButton.addEventListener(\[dq]click\[dq], removeTracksFunction);
.EE
