.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "Date.toJSON" "JS" "August 25, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Date.toJSON \- Date.prototype.toJSON()
.SH SYNOPSIS
The \f[B]\f[CB]toJSON()\f[B]\f[R] method of \f[CR]Date\f[R] instances
returns a string representing this date in the same ISO format as
\f[CR]toISOString()\f[R].
.SH SYNTAX
.IP
.EX
toJSON()
.EE
.SS Parameters
None.
.SS Return value
A string representing the given date in the date time string format
according to universal time, or \f[CR]null\f[R] when the date is
invalid.
For valid dates, the return value is the same as that of
\f[CR]toISOString()\f[R].
.SH DESCRIPTION
The \f[CR]toJSON()\f[R] method is automatically called by
\f[CR]JSON.stringify()\f[R] when a \f[CR]Date\f[R] object is
stringified.
This method is generally intended to, by default, usefully serialize
\f[CR]Date\f[R] objects during JSON serialization, which can then be
deserialized using the \f[CR]Date()\f[R] constructor as the reviver of
\f[CR]JSON.parse()\f[R].
.PP
The method first attempts to convert its \f[CR]this\f[R] value to a
primitive by calling its \f[CR][\[at]\[at]toPrimitive]()\f[R] (with
\f[CR]\[dq]number\[dq]\f[R] as hint), \f[CR]valueOf()\f[R], and
\f[CR]toString()\f[R] methods, in that order.
If the result is a non\-finite number, \f[CR]null\f[R] is returned.
(This generally corresponds to an invalid date, whose
\f[CR]valueOf()\f[R] returns \f[CR]NaN\f[R].)
Otherwise, if the converted primitive is not a number or is a finite
number, the return value of \f[CR]this.toISOString()\f[R] is returned.
.PP
Note that the method does not check whether the \f[CR]this\f[R] value is
a valid \f[CR]Date\f[R] object.
However, calling \f[CR]Date.prototype.toJSON()\f[R] on
non\-\f[CR]Date\f[R] objects fails unless the object\[cq]s number
primitive representation is \f[CR]NaN\f[R], or the object also has a
\f[CR]toISOString()\f[R] method.
.SH EXAMPLES
.SS Using toJSON()
.IP
.EX
const jsonDate = new Date(0).toJSON(); // \[aq]1970\-01\-01T00:00:00.000Z\[aq]
const backToDate = new Date(jsonDate);

console.log(jsonDate); // 1970\-01\-01T00:00:00.000Z
.EE
.SS Serialization round\-tripping
When parsing JSON containing date strings, you can use the
\f[CR]Date()\f[R] constructor to revive them into the original date
objects.
.IP
.EX
const fileData = {
  author: \[dq]Maria\[dq],
  title: \[dq]Date.prototype.toJSON()\[dq],
  createdAt: new Date(2019, 3, 15),
  updatedAt: new Date(2020, 6, 26),
};
const response = JSON.stringify(fileData);

// Imagine transmission through network

const data = JSON.parse(response, (key, value) => {
  if (key === \[dq]createdAt\[dq] || key === \[dq]updatedAt\[dq]) {
    return new Date(value);
  }
  return value;
});

console.log(data);
.EE
.RS
.PP
\f[B]Note:\f[R] The reviver of \f[CR]JSON.parse()\f[R] must be specific
to the payload shape you expect, because the serialization is
\f[I]lossy\f[R]: it\[cq]s not possible to distinguish between a string
that represents a Date and a normal string.
.RE
.SH SEE ALSO
.IP \[bu] 2
\f[CR]Date.prototype.toLocaleDateString()\f[R]
.IP \[bu] 2
\f[CR]Date.prototype.toTimeString()\f[R]
.IP \[bu] 2
\f[CR]Date.prototype.toUTCString()\f[R]
