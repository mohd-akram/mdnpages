.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "EXTENDABLEMESSAGEEVENT.DATA" "3JS" "May 13, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ExtendableMessageEvent.data \- ExtendableMessageEvent: data property
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is only available in Service Workers.
.PP
The \f[B]\f[CB]data\f[B]\f[R] read\-only property of the
\f[CR]ExtendableMessageEvent\f[R] interface returns the event\(cqs data.
It can be any data type.
.SH VALUE
Any data type.
.SH EXAMPLES
When the following code is used inside a service worker to respond to a
push messages by sending the data received via
\f[CR]PushMessageData\f[R] to the main context via a channel message,
the event object of \f[CR]onmessage\f[R] will be a
\f[CR]ExtendableMessageEvent\f[R].
.IP
.EX
\f[B]let\f[R] port;

self.addEventListener(\(dqpush\(dq, (e) \f[B]=>\f[R] {
  \f[B]const\f[R] obj = e.data.json();

  \f[B]if\f[R] (obj.action === \(dqsubscribe\(dq || obj.action === \(dqunsubscribe\(dq) {
    port.postMessage(obj);
  } \f[B]else\f[R] \f[B]if\f[R] (obj.action === \(dqinit\(dq || obj.action === \(dqchatMsg\(dq) {
    port.postMessage(obj);
  }
});

self.onmessage = (e) \f[B]=>\f[R] {
  console.log(e.data);
  port = e.ports[0];
};
.EE
.SH SEE ALSO
.IP \(bu 2
Using Service Workers
.IP \(bu 2
\c
.UR https://github.com/mdn/dom-examples/tree/main/service-worker/simple-service-worker
Service workers basic code example
.UE \c
.IP \(bu 2
Channel Messaging
