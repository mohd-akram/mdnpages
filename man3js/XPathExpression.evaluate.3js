.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "XPathExpression.evaluate" "JS" "July 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
XPathExpression.evaluate \- XPathExpression: evaluate() method
.SH SYNOPSIS
The \f[B]\f[CB]evaluate()\f[B]\f[R] method of the
\f[CR]XPathExpression\f[R] interface executes an XPath expression on the
given node or document and returns an \f[CR]XPathResult\f[R].
.SH SYNTAX
.IP
.EX
evaluate(contextNode)
evaluate(contextNode, type)
evaluate(contextNode, type, result)
.EE
.SS Parameters
.TP
\f[B]contextNode\f[R]
A \f[CR]Node\f[R] representing the context to use for evaluating the
expression.
.TP
\f[B]type\f[R] \f[I](optional)\f[R]
Specifies the type of result to be returned by evaluating the
expression.
This must be one of the \f[CR]XPathResult\f[R].
.TP
\f[B]result\f[R] \f[I](optional)\f[R]
Allows to specify a result object which may be reused and returned by
this method.
If this is specified as \f[CR]null\f[R] or the implementation does not
reuse the specified result, a new result object will be returned.
.SS Return value
An \f[CR]XPathResult\f[R] object representing the result of evaluating
the XPath expression.
.SS Exceptions
.SS INVALID_EXPRESSION_ERR
If the expression is not legal according to the rules of the
\f[CR]XPathEvaluator\f[R], an \f[CR]XPathException\f[R] of type
\f[CR]INVALID_EXPRESSION_ERR\f[R] is raised.
.SS TYPE_ERR
In case result cannot be converted to the specified type, an
\f[CR]XPathException\f[R] of type \f[CR]TYPE_ERR\f[R] is raised.
.SS NAMESPACE_ERR
If the expression contains namespace prefixes which cannot be resolved
by the specified \f[CR]XPathNSResolver\f[R], a \f[CR]DOMException\f[R]
of type \f[CR]NAMESPACE_ERROR\f[R] is raised.
.SS WRONG_DOCUMENT_ERR
If the provided context node is from a document that is not supported by
the \f[CR]XPathEvaluator\f[R], a \f[CR]DOMException\f[R] of type
\f[CR]WRONG_DOCUMENT_ERR\f[R] is raised.
.SS NOT_SUPPORTED_ERR
If the provided context node is not a type permitted as an XPath context
node or the request type is not permitted by the
\f[CR]XPathEvaluator\f[R], a \f[CR]DOMException\f[R] of type
\f[CR]NOT_SUPPORTED_ERR\f[R] is raised.
.SH EXAMPLES
The following example shows the use of the \f[CR]evaluate()\f[R] method.
.SS HTML
.IP
.EX
<\f[B]div\f[R]>XPath example</\f[B]div\f[R]>
<\f[B]div\f[R]>Number of &lt;div&gt;s: <\f[B]output\f[R]></\f[B]output\f[R]></\f[B]div\f[R]>
.EE
.SS JavaScript
.IP
.EX
\f[B]const\f[R] xpath = \[dq]//div\[dq];
\f[B]const\f[R] evaluator = \f[B]new\f[R] XPathEvaluator();
\f[B]const\f[R] expression = evaluator.createExpression(\[dq]//div\[dq]);
\f[B]const\f[R] result = expression.evaluate(
  document,
  XPathResult.ORDERED_NODE_SNAPSHOT_TYPE,
);
document.querySelector(\[dq]output\[dq]).textContent = result.snapshotLength;
.EE
.SS Result
