.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "HTMLElement.cancel_event" "JS" "January 15, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
HTMLElement.cancel_event \- HTMLElement: cancel event
.SH SYNOPSIS
The \f[B]\f[CB]cancel\f[B]\f[R] event is fired by \f[CR]<input>\f[R] and
\f[CR]<dialog>\f[R] elements.
The event is fired when the user cancels the currently open dialog by
closing it with the Esc key.
It is also fired by the file input when the user cancels the file picker
dialog via the Esc key or the cancel button and when the user
re\-selects the same files that were previously selected.
.PP
This event does not bubble.
.PP
When a \f[CR]<dialog>\f[R] is dismissed with the Esc key, both the
\f[CR]cancel\f[R] and \f[CR]close\f[R] events are fired.
.SH SYNTAX
Use the event name in methods like \f[CR]addEventListener()\f[R], or set
an event handler property.
.IP
.EX
addEventListener(\[dq]cancel\[dq], (event) \f[B]=>\f[R] {});

oncancel = (event) \f[B]=>\f[R] {};
.EE
.SH EVENT TYPE
A generic \f[CR]Event\f[R].
.SH EXAMPLES
.SS Canceling a dialog
.SS HTML
.IP
.EX
<\f[B]dialog\f[R] class=\[dq]example\-dialog\[dq]>
  <\f[B]button\f[R] class=\[dq]close\[dq] type=\[dq]reset\[dq]>Close</\f[B]button\f[R]>
</\f[B]dialog\f[R]>

<\f[B]button\f[R] class=\[dq]open\-dialog\[dq]>Open dialog</\f[B]button\f[R]>

<\f[B]div\f[R] class=\[dq]result\[dq]></\f[B]div\f[R]>
.EE
.SS JavaScript
.IP
.EX
\f[B]const\f[R] result = document.querySelector(\[dq].result\[dq]);

\f[B]const\f[R] dialog = document.querySelector(\[dq].example\-dialog\[dq]);

dialog.addEventListener(\[dq]cancel\[dq], (event) \f[B]=>\f[R] {
  result.textContent = \[dq]dialog was canceled\[dq];
});

\f[B]const\f[R] openDialog = document.querySelector(\[dq].open\-dialog\[dq]);
openDialog.addEventListener(\[dq]click\[dq], () \f[B]=>\f[R] {
  \f[B]if\f[R] (\f[B]typeof\f[R] dialog.showModal === \[dq]function\[dq]) {
    dialog.showModal();
    result.textContent = \[dq]\[dq];
  } \f[B]else\f[R] {
    result.textContent = \[dq]The dialog API is not supported by this browser\[dq];
  }
});

\f[B]const\f[R] closeButton = document.querySelector(\[dq].close\[dq]);
closeButton.addEventListener(\[dq]click\[dq], () \f[B]=>\f[R] {
  dialog.close();
});
.EE
.SS Result
.SS Canceling an input element
.SS HTML
.IP
.EX
<\f[B]label\f[R] for=\[dq]file\[dq]>Select or file. Or don\[aq]t.</\f[B]label\f[R]>
<\f[B]input\f[R] type=\[dq]file\[dq] id=\[dq]file\[dq] name=\[dq]file\[dq] />

<\f[B]div\f[R] id=\[dq]result\[dq]></\f[B]div\f[R]>
.EE
.SS JavaScript
.IP
.EX
\f[B]const\f[R] elem = document.getElementById(\[dq]file\[dq]);

\f[B]const\f[R] result = document.getElementById(\[dq]result\[dq]);

elem.addEventListener(\[dq]cancel\[dq], () \f[B]=>\f[R] {
  result.textContent = \[dq]Canceled.\[dq];
});

elem.addEventListener(\[dq]change\[dq], () \f[B]=>\f[R] {
  \f[B]if\f[R] (elem.files.length == 1) {
    result.textContent = \[dq]File Selected.\[dq];
  }
});
.EE
.SS Result
Open the file selector, then close the selection dialog with the escape
key or the cancel button.
Both of these will cause the cancel event to be fired.
Also, try selecting a local file on your machine; then reopen the file
selection window and reselect the same file.
This too causes the cancel event to be fired.
.SH SEE ALSO
.IP \[bu] 2
HTML \f[CR]<input>\f[R] element
.IP \[bu] 2
HTML \f[CR]<dialog>\f[R] element
.IP \[bu] 2
\f[CR]close\f[R]
