.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "IDBCURSOR.PRIMARYKEY" "3JS" "December 16, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
IDBCursor.primaryKey \- IDBCursor: primaryKey property
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]primaryKey\f[B]\f[R] read\-only property of the
\f[CR]IDBCursor\f[R] interface returns the cursor\(cqs current effective
key.
If the cursor is currently being iterated or has iterated outside its
range, this is set to undefined.
The cursor\(cqs primary key can be any data type.
.SH VALUE
A value of any data type.
.SS Exceptions
.TP
\f[B]InvalidStateError\f[R] \f[B]DOMException\f[R]
Thrown if the cursor is advancing or has finished.
.SH EXAMPLES
In this simple fragment we create a transaction, retrieve an object
store, then use a cursor to iterate through all the records in the
object store.
Within each iteration we log the primary key of the cursor to the
console.
.PP
The cursor does not require us to select the data based on a key; we can
just grab all of it.
Also note that in each iteration of the loop, you can grab data from the
current record under the cursor object using
\f[CR]cursor.value.foo\f[R].
For a complete working example, see our \c
.UR https://github.com/mdn/dom-examples/tree/main/indexeddb-examples/idbcursor
IDBCursor example
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/indexeddb-examples/idbcursor/
View the example live
.UE \c
).
.IP
.EX
\f[B]function\f[R] displayData() {
  \f[B]const\f[R] transaction = db.transaction([\(dqrushAlbumList\(dq], \(dqreadonly\(dq);
  \f[B]const\f[R] objectStore = transaction.objectStore(\(dqrushAlbumList\(dq);

  objectStore.openCursor().onsuccess = (event) \f[B]=>\f[R] {
    \f[B]const\f[R] cursor = event.target.result;
    \f[B]if\f[R] (cursor) {
      \f[B]const\f[R] listItem = document.createElement(\(dqli\(dq);
      listItem.textContent = \(ga${cursor.value.albumTitle}, ${cursor.value.year}\(ga;
      list.appendChild(listItem);

      console.log(cursor.primaryKey);
      cursor.continue();
    } \f[B]else\f[R] {
      console.log(\(dqEntries all displayed.\(dq);
    }
  };
}
.EE
.SH SEE ALSO
.IP \(bu 2
Using IndexedDB
.IP \(bu 2
Starting transactions: \f[CR]IDBDatabase\f[R]
.IP \(bu 2
Using transactions: \f[CR]IDBTransaction\f[R]
.IP \(bu 2
Setting a range of keys: \f[CR]IDBKeyRange\f[R]
.IP \(bu 2
Retrieving and making changes to your data: \f[CR]IDBObjectStore\f[R]
.IP \(bu 2
Using cursors: \f[CR]IDBCursor\f[R]
.IP \(bu 2
Reference example: \c
.UR https://github.com/mdn/dom-examples/tree/main/to-do-notifications
To\-do Notifications
.UE \c
\ (\c
.UR https://mdn.github.io/dom-examples/to-do-notifications/
View the example live
.UE \c
).
