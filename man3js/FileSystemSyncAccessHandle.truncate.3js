.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "FILESYSTEMSYNCACCESSHANDLE.TRUNCATE" "3JS" "July 26, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
FileSystemSyncAccessHandle.truncate \- FileSystemSyncAccessHandle:
truncate() method
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
\f[B]Note:\f[R] This feature is only available in Dedicated Web Workers.
.PP
The \f[B]\f[CB]truncate()\f[B]\f[R] method of the
\f[CR]FileSystemSyncAccessHandle\f[R] interface resizes the file
associated with the handle to a specified number of bytes.
.RS
.PP
\f[B]Note:\f[R] In earlier versions of the spec, \f[CR]close()\f[R],
\f[CR]flush()\f[R], \f[CR]getSize()\f[R], and \f[CR]truncate()\f[R] were
wrongly specified as asynchronous methods, and older versions of some
browsers implement them in this way.
However, all current browsers that support these methods implement them
as synchronous methods.
.RE
.SH SYNTAX
.IP
.EX
truncate(newSize)
.EE
.SS Parameters
.TP
\f[B]newSize\f[R]
The number of bytes to resize the file to.
.SS Return value
None (\f[CR]undefined\f[R]).
.SS Exceptions
.TP
\f[B]InvalidStateError\f[R] \f[B]DOMException\f[R]
Thrown if the associated access handle is already closed, or if the
modification of the file\(cqs binary data otherwise fails.
.TP
\f[B]QuotaExceededError\f[R] \f[B]DOMException\f[R]
Thrown if the \f[CR]newSize\f[R] is larger than the original size of the
file, and exceeds the browser\(cqs storage quota.
.TP
\f[B]TypeError\f[R]
Thrown if the underlying file system does not support setting the file
size to the new size.
.SH EXAMPLES
.IP
.EX
\f[B]async\f[R] \f[B]function\f[R] truncateFile() {
  \f[I]// Get handle to draft file\f[R]
  \f[B]const\f[R] root = \f[B]await\f[R] navigator.storage.getDirectory();
  \f[B]const\f[R] draftHandle = \f[B]await\f[R] root.getFileHandle(\(dqdraft.txt\(dq, { create: \f[B]true\f[R] });
  \f[I]// Get sync access handle\f[R]
  \f[B]const\f[R] accessHandle = \f[B]await\f[R] draftHandle.createSyncAccessHandle();

  \f[I]// Truncate the file to 0 bytes\f[R]
  accessHandle.truncate(0);

  \f[I]// Persist changes to disk.\f[R]
  accessHandle.flush();

  \f[I]// Always close FileSystemSyncAccessHandle if done.\f[R]
  accessHandle.close();
}
.EE
.SH SEE ALSO
.IP \(bu 2
File System API
.IP \(bu 2
\c
.UR https://developer.chrome.com/docs/capabilities/web-apis/file-system-access
The File System Access API: simplifying access to local files
.UE \c
