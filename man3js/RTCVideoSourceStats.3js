.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "RTCVideoSourceStats" "JS" "July 26, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
RTCVideoSourceStats \- RTCVideoSourceStats
.SH SYNOPSIS
The \f[B]\f[CB]RTCVideoSourceStats\f[B]\f[R] dictionary of the WebRTC
API provides statistics information about a video track
(\f[CR]MediaStreamTrack\f[R]) that is attached to one or more senders
(\f[CR]RTCRtpSender\f[R]).
.PP
These statistics can be obtained by iterating the
\f[CR]RTCStatsReport\f[R] returned by \f[CR]RTCRtpSender.getStats()\f[R]
or \f[CR]RTCPeerConnection.getStats()\f[R] until you find a report with
the \f[CR]type\f[R] of \f[CR]media\-source\f[R] and a \f[CR]kind\f[R] of
\f[CR]video\f[R].
.RS
.PP
\f[B]Note:\f[R] For video information about remotely sourced tracks
(that are being received), see \f[CR]RTCInboundRtpStreamStats\f[R].
.RE
.SH INSTANCE PROPERTIES
.TP
\f[B]frames\f[R] \f[I](optional)\f[R]
A positive number that indicates the total number of frames originating
from this video source.
.TP
\f[B]framesPerSecond\f[R] \f[I](optional)\f[R]
A positive number that represents the number of frames originating from
this video source in the last second.
This property is not defined on this stats object for the first second
of its existence.
.TP
\f[B]height\f[R] \f[I](optional)\f[R]
A number that represents the height, in pixels, of the last frame
originating from this source.
This property is not defined on this stats object until after the first
frame has been produced.
.TP
\f[B]width\f[R] \f[I](optional)\f[R]
A number that represents the width, in pixels, of the most recent frame
originating from this source.
This property is not defined on this stats object until after the first
frame has been produced.
.SS Common media\-source properties
The following properties are present in both
\f[CR]RTCVideoSourceStats\f[R] and \f[CR]RTCAudioSourceStats\f[R]:
.TP
\f[B]trackIdentifier\f[R]
A string that contains the \f[CR]id\f[R] value of the
\f[CR]MediaStreamTrack\f[R] associated with the video source.
.TP
\f[B]kind\f[R]
A string indicating whether this object represents stats for a video
source or a media source.
For an \f[CR]RTCVideoSourceStats\f[R] this will always be
\f[CR]video\f[R].
.SS Common instance properties
The following properties are common to all statistics objects.
.TP
\f[B]id\f[R]
A string that uniquely identifies the object that is being monitored to
produce this set of statistics.
.TP
\f[B]timestamp\f[R]
A \f[CR]DOMHighResTimeStamp\f[R] object indicating the time at which the
sample was taken for this statistics object.
.TP
\f[B]type\f[R]
A string with the value \f[CR]\[dq]media\-source\[dq]\f[R], indicating
that the object is an instance of either \f[CR]RTCAudioSourceStats\f[R]
or \f[CR]RTCVideoSourceStats\f[R].
.SH DESCRIPTION
The interface provides statistics about a video media source attached to
one or more senders.
The information includes a identifier for the associated
\f[CR]MediaStreamTrack\f[R], along with the height and width of the last
frame sent from the source, the number of frames sent from the source,
and the frame rate.
.SH EXAMPLES
This example shows how you might iterate the stats object returned from
\f[CR]RTCRtpSender.getStats()\f[R] to get the video\-specific
media\-source stats.
.IP
.EX
\f[I]// where sender is an RTCRtpSender\f[R]
\f[B]const\f[R] stats = \f[B]await\f[R] sender.getStats();
\f[B]let\f[R] videoSourceStats = \f[B]null\f[R];

stats.forEach((report) \f[B]=>\f[R] {
  \f[B]if\f[R] (report.type === \[dq]media\-source\[dq] && report.kind===\[dq]video\[dq]) {
    videoSourceStats = report;
    \f[B]break\f[R];
  }
});

\f[I]// videoSourceStats will be null if the report did not include video source stats\f[R]
\f[B]const\f[R] frames = videoSourceStats?.frames;
\f[B]const\f[R] fps = videoSourceStats?.framesPerSecond;
\f[B]const\f[R] width = videoSourceStats?.width;
\f[B]const\f[R] height = videoSourceStats?.height;
.EE
