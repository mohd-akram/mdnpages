.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "DataTransfer.effectAllowed" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
DataTransfer.effectAllowed \- DataTransfer: effectAllowed property
.SH SYNOPSIS
The \f[B]\f[CB]DataTransfer.effectAllowed\f[B]\f[R] property specifies
the effect that is allowed for a drag operation.
The \f[I]copy\f[R] operation is used to indicate that the data being
dragged will be copied from its present location to the drop location.
The \f[I]move\f[R] operation is used to indicate that the data being
dragged will be moved, and the \f[I]link\f[R] operation is used to
indicate that some form of relationship or connection will be created
between the source and drop locations.
.PP
This property should be set in the \f[CR]dragstart\f[R] event to set the
desired drag effect for the drag source.
Within the \f[CR]dragenter\f[R] and \f[CR]dragover\f[R] event handlers,
this property will be set to whatever value was assigned during the
\f[CR]dragstart\f[R] event, thus \f[CR]effectAllowed\f[R] may be used to
determine which effect is permitted.
.PP
Assigning a value to \f[CR]effectAllowed\f[R] in events other than
\f[CR]dragstart\f[R] has no effect.
.SH VALUE
A string representing the drag operation that is allowed.
The possible values are:
.TP
\f[B]none\f[R]
The item may not be dropped.
.TP
\f[B]copy\f[R]
A copy of the source item may be made at the new location.
.TP
\f[B]copyLink\f[R]
A copy or link operation is permitted.
.TP
\f[B]copyMove\f[R]
A copy or move operation is permitted.
.TP
\f[B]link\f[R]
A link may be established to the source at the new location.
.TP
\f[B]linkMove\f[R]
A link or move operation is permitted.
.TP
\f[B]move\f[R]
An item may be moved to a new location.
.TP
\f[B]all\f[R]
All operations are permitted.
.TP
\f[B]uninitialized\f[R]
The default value when the effect has not been set, equivalent to all.
.PP
Assigning any other value to \f[CR]effectAllowed\f[R] has no effect and
the old value is retained.
.SH EXAMPLES
.SS Setting effectAllowed
In this example we set \f[CR]effectAllowed\f[R] to
\f[CR]\[dq]move\[dq]\f[R] in the \f[CR]dragstart\f[R] handler.
.SS HTML
.IP
.EX
<div>
  <p id=\[dq]source\[dq] draggable=\[dq]true\[dq]>
    Select this element, drag it to the Drop Zone and then release the selection
    to move the element.
  </p>
</div>
<div id=\[dq]target\[dq]>Drop Zone</div>
<pre id=\[dq]output\[dq]></pre>
<button id=\[dq]reset\[dq]>Reset</button>
.EE
.SS CSS
.IP
.EX
div {
  margin: 0em;
  padding: 2em;
}

source {
  color: blue;
  border: 1px solid black;
}

target {
  border: 1px solid black;
}

output {
  height: 100px;
  overflow: scroll;
}
.EE
.SS JavaScript
.IP
.EX
function dragstartHandler(ev) {
  log(\[ga]dragstart: effectAllowed = ${ev.dataTransfer.effectAllowed}\[ga]);

  // Add this element\[aq]s id to the drag payload so the drop handler will
  // know which element to add to its tree
  ev.dataTransfer.setData(\[dq]text\[dq], ev.target.id);
  ev.dataTransfer.effectAllowed = \[dq]move\[dq];
}

function dropHandler(ev) {
  log(\[ga]drop: effectAllowed = ${ev.dataTransfer.effectAllowed}\[ga]);

  ev.preventDefault();
  // Get the id of the target and add the element to the target\[aq]s DOM
  const data = ev.dataTransfer.getData(\[dq]text\[dq]);
  ev.target.appendChild(document.getElementById(data));
}

function dragoverHandler(ev) {
  log(\[ga]dragover: effectAllowed = ${ev.dataTransfer.effectAllowed}\[ga]);
  ev.preventDefault();
}

const source = document.querySelector(\[dq]#source\[dq]);
const target = document.querySelector(\[dq]#target\[dq]);

source.addEventListener(\[dq]dragstart\[dq], dragstartHandler);
target.addEventListener(\[dq]dragover\[dq], dragoverHandler);
target.addEventListener(\[dq]drop\[dq], dropHandler);

function log(message) {
  const output = document.querySelector(\[dq]#output\[dq]);
  output.textContent = \[ga]${output.textContent}\[rs]n${message}\[ga];
  output.scrollTop = output.scrollHeight;
}

const reset = document.querySelector(\[dq]#reset\[dq]);
reset.addEventListener(\[dq]click\[dq], () => document.location.reload());
.EE
.SS Result
.SH SEE ALSO
.IP \[bu] 2
Drag and drop
.IP \[bu] 2
Drag Operations
.IP \[bu] 2
Recommended Drag Types
.IP \[bu] 2
\c
.UR https://codepen.io/tech_query/pen/MqGgap
DataTransfer test \- Paste or Drag
.UE \c
