.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "RESPONSE.ERROR_STATIC" "3JS" "March 13, 2025" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Response.error_static \- Response: error() static method
.SH SYNOPSIS
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]error()\f[B]\f[R] static method of the
\f[CR]Response\f[R] interface returns a new \f[CR]Response\f[R] object
associated with a network error.
.PP
This is mainly useful when writing service workers: it enables a service
worker to send a response from a \f[CR]fetch\f[R] event handler that
will cause the \f[CR]fetch()\f[R] call in the main app code to reject
the promise.
.PP
An error response has its \f[CR]type\f[R] set to \f[CR]error\f[R].
.SH SYNTAX
.IP
.EX
Response.error()
.EE
.SS Parameters
None.
.SS Return value
A \f[CR]Response\f[R] object.
.SH EXAMPLES
.SS Returning a network error from a service worker
Suppose a web app has a service worker, which contains the following
\f[CR]fetch\f[R] event handler:
.IP
.EX
\f[I]// service\-worker.js\f[R]

self.addEventListener(\(dqfetch\(dq, (event) \f[B]=>\f[R] {
  \f[B]const\f[R] url = \f[B]new\f[R] URL(event.request.url);
  \f[B]if\f[R] (url.pathname === \(dq/salamander.jpg\(dq) {
    event.respondWith(Response.error());
  }
});
.EE
.PP
With this service worker, all fetch requests from the app will pass
through the service worker to the network, except for requests to fetch
\(lqsalamander.jpg\(rq, which will reject.
This means that the following main thread code would throw an error, and
the \f[CR]catch\f[R] handler will run.
.IP
.EX
\f[I]// main.js\f[R]

\f[B]const\f[R] image = document.querySelector(\(dq#image\(dq);

\f[B]try\f[R] {
  \f[B]const\f[R] response = \f[B]await\f[R] fetch(\(dqsalamander.jpg\(dq);
  \f[B]const\f[R] blob = \f[B]await\f[R] response.blob();
  \f[B]const\f[R] objectURL = URL.createObjectURL(blob);
  image.src = objectURL;
} \f[B]catch\f[R] (e) {
  console.error(e);
}
.EE
.SH SEE ALSO
.IP \(bu 2
ServiceWorker API
.IP \(bu 2
HTTP access control (CORS)
.IP \(bu 2
HTTP
