.\" Automatically generated by Pandoc 3.1.11
.\"
.TH "PerformanceResourceTiming.connectEnd" "JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
PerformanceResourceTiming.connectEnd \- PerformanceResourceTiming:
connectEnd property
.SH SYNOPSIS
The \f[B]\f[CB]connectEnd\f[B]\f[R] read\-only property returns the
\f[CR]timestamp\f[R] immediately after the browser finishes establishing
the connection to the server to retrieve the resource.
The timestamp value includes the time interval to establish the
transport connection, as well as other time intervals such as TLS
handshake and \c
.UR https://en.wikipedia.org/wiki/SOCKS
SOCKS
.UE \c
\ authentication.
.SH VALUE
The \f[CR]connectEnd\f[R] property can have the following values:
.IP \[bu] 2
A \f[CR]DOMHighResTimeStamp\f[R] representing the time after a
connection is established.
.IP \[bu] 2
\f[CR]0\f[R] if the resource was instantaneously retrieved from a cache.
.IP \[bu] 2
\f[CR]0\f[R] if the resource is a cross\-origin request and no
\f[CR]Timing\-Allow\-Origin\f[R] HTTP response header is used.
.SH EXAMPLES
.SS Measuring TCP handshake time
The \f[CR]connectEnd\f[R] and \f[CR]connectStart\f[R] properties can be
used to measure how long it takes for the TCP handshake to happen.
.IP
.EX
const tcp = entry.connectEnd \- entry.connectStart;
.EE
.PP
Example using a \f[CR]PerformanceObserver\f[R], which notifies of new
\f[CR]resource\f[R] performance entries as they are recorded in the
browser\[cq]s performance timeline.
Use the \f[CR]buffered\f[R] option to access entries from before the
observer creation.
.IP
.EX
const observer = new PerformanceObserver((list) => {
  list.getEntries().forEach((entry) => {
    const tcp = entry.connectEnd \- entry.connectStart;
    if (tcp > 0) {
      console.log(\[ga]${entry.name}: TCP handshake duration: ${tcp}ms\[ga]);
    }
  });
});

observer.observe({ type: \[dq]resource\[dq], buffered: true });
.EE
.PP
Example using \f[CR]Performance.getEntriesByType()\f[R], which only
shows \f[CR]resource\f[R] performance entries present in the
browser\[cq]s performance timeline at the time you call this method:
.IP
.EX
const resources = performance.getEntriesByType(\[dq]resource\[dq]);
resources.forEach((entry) => {
  const tcp = entry.connectEnd \- entry.connectStart;
  if (tcp > 0) {
    console.log(\[ga]${entry.name}: TCP handshake duration: ${tcp}ms\[ga]);
  }
});
.EE
.SS Cross\-origin timing information
If the value of the \f[CR]connectEnd\f[R] property is \f[CR]0\f[R], the
resource might be a cross\-origin request.
To allow seeing cross\-origin timing information, the
\f[CR]Timing\-Allow\-Origin\f[R] HTTP response header needs to be set.
.PP
For example, to allow \f[CR]https://developer.mozilla.org\f[R] to see
timing resources, the cross\-origin resource should send:
.IP
.EX
Timing\-Allow\-Origin: https://developer.mozilla.org
.EE
.SH SEE ALSO
.IP \[bu] 2
\f[CR]Timing\-Allow\-Origin\f[R]
