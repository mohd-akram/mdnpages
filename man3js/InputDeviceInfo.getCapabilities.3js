.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "InputDeviceInfo.getCapabilities" "JS" "July 26, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
InputDeviceInfo.getCapabilities \- InputDeviceInfo: getCapabilities()
method
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
The \f[B]\f[CB]getCapabilities()\f[B]\f[R] method of the
\f[CR]InputDeviceInfo\f[R] interface returns a
\f[CR]MediaTrackCapabilities\f[R] object describing the primary audio or
video track of the device\[cq]s \f[CR]MediaStream\f[R].
.SH SYNTAX
.IP
.EX
getCapabilities()
.EE
.SS Parameters
None.
.SS Return value
A \f[CR]MediaTrackCapabilities\f[R] object which specifies the value or
range of values which are supported for each of the user agent\[cq]s
supported constrainable properties, containing the following members:
.TP
\f[B]deviceId\f[R]
A \f[CR]ConstrainDOMString\f[R] object containing the device ID.
.TP
\f[B]groupId\f[R]
A \f[CR]ConstrainDOMString\f[R] object containing a group ID.
.TP
\f[B]autoGainControl\f[R]
A \f[CR]ConstrainBoolean\f[R] object reporting if the source can do auto
gain control.
If the feature can be controlled by a script the source will report both
true and false as possible values.
.TP
\f[B]channelCount\f[R]
A \f[CR]ConstrainULong\f[R] containing the channel count or range of
channel counts.
.TP
\f[B]echoCancellation\f[R]
A \f[CR]ConstrainBoolean\f[R] object reporting if the source can do echo
cancellation.
If the feature can be controlled by a script the source will report both
true and false as possible values.
.TP
\f[B]latency\f[R]
A \f[CR]ConstrainDouble\f[R] containing the latency or range of
latencies.
.TP
\f[B]noiseSuppression\f[R]
A \f[CR]ConstrainBoolean\f[R] object reporting if the source can do
noise suppression.
If the feature can be controlled by a script the source will report both
true and false as possible values.
.TP
\f[B]sampleRate\f[R]
A \f[CR]ConstrainULong\f[R] containing the sample rate or range of
sample rates.
.TP
\f[B]sampleSize\f[R]
A \f[CR]ConstrainULong\f[R] containing the sample size or range of
sample sizes.
.TP
\f[B]aspectRatio\f[R]
A \f[CR]ConstrainDouble\f[R] containing the video aspect ratio (width in
pixels divided by height in pixels) or range of aspect ratios.
.TP
\f[B]facingMode\f[R]
A \f[CR]ConstrainDOMString\f[R] object containing the camera facing
mode.
A camera may report multiple facings, for example \[lq]left\[rq] and
\[lq]user\[rq].
.TP
\f[B]frameRate\f[R]
A \f[CR]ConstrainDouble\f[R] containing the frame rate or range of frame
rates which are acceptable.
.TP
\f[B]height\f[R]
A \f[CR]ConstrainULong\f[R] containing the video height or range of
heights in pixels.
.TP
\f[B]width\f[R]
A \f[CR]ConstrainULong\f[R] containing the video width or range of
widths in pixels.
.TP
\f[B]resizeMode\f[R]
A \f[CR]ConstrainDOMString\f[R] object containing the mode or an array
of modes the UA can use to derive the resolution of the video track.
.RS
.PP
\f[B]Note:\f[R] If the user has not granted permission to access the
input device an empty object will be returned.
.RE
.SH EXAMPLES
In the following example we ask for permission to access audio and video
devices with \f[CR]mediaDevices.getUserMedia()\f[R], as to use
\f[CR]getCapabilities()\f[R] we need permission to access the devices.
.PP
If \f[CR]device\f[R] is an \f[CR]InputDeviceInfo\f[R] object, then
\f[CR]getCapabilities()\f[R] will return an object with members
representing its capabilities.
A video stream will not include auto properties such as
\f[CR]noiseSuppression\f[R], for example.
.IP
.EX
\f[I]// Get permission to access audio or video devices\f[R]
navigator.mediaDevices.getUserMedia({ audio: \f[B]true\f[R], video: \f[B]true\f[R] });

navigator.mediaDevices.enumerateDevices().then((devices) \f[B]=>\f[R] {
  devices.forEach((device) \f[B]=>\f[R] {
    console.log(device.getCapabilities()); \f[I]// a MediaTrackCapabilities object.\f[R]
  });
});
.EE
.SH SEE ALSO
.IP \[bu] 2
\f[CR]MediaStreamTrack.getCapabilities()\f[R], which also return a
\f[CR]MediaTrackCapabilities\f[R] object.
