.\" Automatically generated by Pandoc 3.6.2
.\"
.TH "CookieStore" "JS" "April 28, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
CookieStore \- CookieStore
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
\f[B]Note:\f[R] This feature is available in Service Workers.
.PP
The \f[B]\f[CB]CookieStore\f[B]\f[R] interface of the Cookie Store API
provides methods for getting and setting cookies asynchronously from
either a page or a service worker.
.PP
The \f[CR]CookieStore\f[R] is accessed via attributes in the global
scope in a \f[CR]Window\f[R] or \f[CR]ServiceWorkerGlobalScope\f[R]
context.
Therefore there is no constructor.
.SH INSTANCE METHODS
.TP
\f[B]CookieStore.delete()\f[R]
The \f[CR]delete()\f[R] method deletes a cookie with the given
\f[CR]name\f[R] or \f[CR]options\f[R] object, it returns a
\f[CR]Promise\f[R] that resolves when the deletion completes.
.TP
\f[B]CookieStore.get()\f[R]
The \f[CR]get()\f[R] method gets a single cookie with the given
\f[CR]name\f[R] or \f[CR]options\f[R] object, it returns a
\f[CR]Promise\f[R] that resolves with details of a single cookie.
.TP
\f[B]CookieStore.getAll()\f[R]
The \f[CR]getAll()\f[R] method gets all matching cookies, it returns a
\f[CR]Promise\f[R] that resolves with a list of cookies.
.TP
\f[B]CookieStore.set()\f[R]
The \f[CR]set()\f[R] method sets a cookie with the given \f[CR]name\f[R]
and \f[CR]value\f[R] or \f[CR]options\f[R] object, it returns a
\f[CR]Promise\f[R] that resolves when the cookie is set.
.SH EVENTS
.TP
\f[B]change\f[R]
The \f[CR]change\f[R] event fires when a change is made to any cookie.
.SH EXAMPLES
In this example, we set a cookie and write to the console feedback as to
whether the operation succeeded or failed.
.IP
.EX
\f[B]const\f[R] day = 24 * 60 * 60 * 1000;

cookieStore
  .set({
    name: \[dq]cookie1\[dq],
    value: \[dq]cookie1\-value\[dq],
    expires: Date.now() + day,
    domain: \[dq]example.com\[dq],
  })
  .then(
    () \f[B]=>\f[R] {
      console.log(\[dq]It worked!\[dq]);
    },
    (reason) \f[B]=>\f[R] {
      console.error(\[dq]It failed: \[dq], reason);
    },
  );
.EE
