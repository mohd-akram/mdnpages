.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "ELEMENT.INSERTADJACENTELEMENT" "3JS" "May 19, 2025" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Element.insertAdjacentElement \- Element: insertAdjacentElement() method
.SH SYNOPSIS
The \f[B]\f[CB]insertAdjacentElement()\f[B]\f[R] method of the
\f[CR]Element\f[R] interface inserts a given element node at a given
position relative to the element it is invoked upon.
.SH SYNTAX
.IP
.EX
insertAdjacentElement(position, element)
.EE
.SS Parameters
.TP
\f[B]position\f[R]
A string representing the position relative to the
\f[CR]targetElement\f[R]; must match (case\-insensitively) one of the
following strings:
.RS
.IP \(bu 2
\f[CR]\(aqbeforebegin\(aq\f[R]: Before the \f[CR]targetElement\f[R]
itself.
.IP \(bu 2
\f[CR]\(aqafterbegin\(aq\f[R]: Just inside the \f[CR]targetElement\f[R],
before its first child.
.IP \(bu 2
\f[CR]\(aqbeforeend\(aq\f[R]: Just inside the \f[CR]targetElement\f[R],
after its last child.
.IP \(bu 2
\f[CR]\(aqafterend\(aq\f[R]: After the \f[CR]targetElement\f[R] itself.
.RE
.TP
\f[B]element\f[R]
The element to be inserted into the tree.
.SS Return value
The element that was inserted, or \f[CR]null\f[R], if the insertion
failed.
.SS Exceptions
.TP
\f[B]SyntaxError\f[R] \f[B]DOMException\f[R]
Thrown if the \f[CR]position\f[R] specified is not a recognized value.
.TP
\f[B]TypeError\f[R]
Thrown if the \f[CR]element\f[R] specified is not a valid element.
.SS Visualization of position names
.IP
.EX
\f[I]<!\-\- beforebegin \-\->\f[R]
<\f[B]p\f[R]>
  \f[I]<!\-\- afterbegin \-\->\f[R]
  foo
  \f[I]<!\-\- beforeend \-\->\f[R]
</\f[B]p\f[R]>
\f[I]<!\-\- afterend \-\->\f[R]
.EE
.RS
.PP
\f[B]Note:\f[R] The \f[CR]beforebegin\f[R] and \f[CR]afterend\f[R]
positions work only if the node is in a tree and has an element parent.
.RE
.SH EXAMPLES
.SS Inserting before and after
In this example we have a row of square boxes.
The user can select a box by clicking on it: this gives the box a
different border, to show that it is selected.
.PP
If a box is selected, and the user presses the \(lqInsert before\(rq or
\(lqInsert after\(rq buttons, then the code creates a new box, gives it
a random color, and inserts it before or after the selected box.
.SS HTML
.IP
.EX
<\f[B]p\f[R]>
  Click colored box to select it, then use the first two buttons below to insert
  elements before and after your selection.
</\f[B]p\f[R]>

<\f[B]section\f[R]>
  <\f[B]div\f[R]></\f[B]div\f[R]>
  <\f[B]div\f[R]></\f[B]div\f[R]>
  <\f[B]div\f[R]></\f[B]div\f[R]>
  <\f[B]div\f[R]></\f[B]div\f[R]>
</\f[B]section\f[R]>

<\f[B]button\f[R] class=\(dqbefore\(dq>Insert before</\f[B]button\f[R]>
<\f[B]button\f[R] class=\(dqafter\(dq>Insert after</\f[B]button\f[R]>
<\f[B]button\f[R] class=\(dqreset\(dq>Reset demo</\f[B]button\f[R]>
.EE
.SS CSS
.IP
.EX
div {
  \f[B]width\f[R]: 50px;
  \f[B]height\f[R]: 50px;
  \f[B]margin\f[R]: 3px;
  \f[B]border\f[R]: 3px solid black;
  \f[B]display\f[R]: inline\-block;
  \f[B]background\-color\f[R]: red;
}

\&.selected {
  \f[B]border\-color\f[R]: aqua;
}
.EE
.SS JavaScript
.IP
.EX
\f[B]let\f[R] selectedElem;

\f[I]// Function to select a new element\f[R]
\f[B]function\f[R] selectElement(newSelection) {
  \f[B]if\f[R] (selectedElem !== newSelection) {
    \f[B]if\f[R] (selectedElem) {
      selectedElem.classList.remove(\(dqselected\(dq);
    }
    selectedElem = newSelection;
    newSelection.classList.add(\(dqselected\(dq);
  }
}

\f[I]// Add click handlers that select the clicked element\f[R]
\f[B]const\f[R] initElems = Array.from(document.querySelectorAll(\(dqsection div\(dq));
\f[B]for\f[R] (\f[B]const\f[R] initElem \f[B]of\f[R] initElems) {
  initElem.addEventListener(\(dqclick\(dq, (e) \f[B]=>\f[R] selectElement(e.target));
}

\f[I]// Add click handlers to \(dqbeforeBtn\(dq and \(dqafterBtn\(dq\f[R]
\f[I]// to insert a new element before/after the selected element\f[R]
\f[B]const\f[R] beforeBtn = document.querySelector(\(dq.before\(dq);
\f[B]const\f[R] afterBtn = document.querySelector(\(dq.after\(dq);
beforeBtn.addEventListener(\(dqclick\(dq, () \f[B]=>\f[R] insertNewElement(\(dqbeforebegin\(dq));
afterBtn.addEventListener(\(dqclick\(dq, () \f[B]=>\f[R] insertNewElement(\(dqafterend\(dq));

\f[B]function\f[R] insertNewElement(position) {
  \f[B]function\f[R] random() {
    \f[B]return\f[R] Math.floor(Math.random() * 255);
  }

  \f[B]if\f[R] (!selectedElem) {
    \f[B]return\f[R];
  }

  \f[B]const\f[R] newElement = document.createElement(\(dqdiv\(dq);
  \f[B]const\f[R] randomColor = \(gargb(${random(255)} ${random(255)} ${random(255)})\(ga;
  newElement.style.backgroundColor = randomColor;
  newElement.addEventListener(\(dqclick\(dq, (e) \f[B]=>\f[R] selectElement(e.target));

  selectedElem.insertAdjacentElement(position, newElement);
}

\f[I]// Reset the example\f[R]
\f[B]const\f[R] resetBtn = document.querySelector(\(dq.reset\(dq);
resetBtn.addEventListener(\(dqclick\(dq, () \f[B]=>\f[R] window.location.reload(\f[B]true\f[R]));
.EE
.SS Result
.SH SEE ALSO
.IP \(bu 2
\f[CR]Element.insertAdjacentHTML()\f[R]
.IP \(bu 2
\f[CR]Element.insertAdjacentText()\f[R]
.IP \(bu 2
\f[CR]Node.insertBefore()\f[R] (similar to \f[CR]beforebegin\f[R], with
different arguments)
.IP \(bu 2
\f[CR]Node.appendChild()\f[R] (same effect as \f[CR]beforeend\f[R])
