.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "MEDIASESSION.PLAYBACKSTATE" "3JS" "April 7, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
MediaSession.playbackState \- MediaSession: playbackState property
.SH SYNOPSIS
The \f[B]\f[CB]playbackState\f[B]\f[R] property of the
\f[CR]MediaSession\f[R] interface indicates whether the current media
session is playing or paused.
.SH VALUE
A string indicating the current playback state of the media session.
The value may be one of the following:
.TP
\f[B]none\f[R]
The browsing context doesn\(cqt currently know the current playback
state, or the playback state is not available at this time.
.TP
\f[B]paused\f[R]
The browser\(cqs media session is currently paused.
Playback may be resumed.
.TP
\f[B]playing\f[R]
The browser\(cqs media session is currently playing media, which can be
paused.
.SH EXAMPLE
The following example sets up two functions for playing and pausing,
then uses them as callbacks with the relevant action handlers.
Each function harnesses the \f[CR]playbackState\f[R] property to
indicate whether the audio is playing or paused.
.IP
.EX
\f[B]const\f[R] actionHandlers = [
  \f[I]// play\f[R]
  [
    \(dqplay\(dq,
    \f[B]async\f[R] () \f[B]=>\f[R] {
      \f[I]// play our audio\f[R]
      \f[B]await\f[R] audioEl.play();
      \f[I]// set playback state\f[R]
      navigator.mediaSession.playbackState = \(dqplaying\(dq;
      \f[I]// update our status element\f[R]
      updateStatus(allMeta[index], \(dqAction: play  |  Track is playing\&...\(dq);
    },
  ],
  [
    \(dqpause\(dq,
    () \f[B]=>\f[R] {
      \f[I]// pause out audio\f[R]
      audioEl.pause();
      \f[I]// set playback state\f[R]
      navigator.mediaSession.playbackState = \(dqpaused\(dq;
      \f[I]// update our status element\f[R]
      updateStatus(allMeta[index], \(dqAction: pause  |  Track has been paused\&...\(dq);
    },
  ],
];

\f[B]for\f[R] (\f[B]const\f[R] [action, handler] \f[B]of\f[R] actionHandlers) {
  \f[B]try\f[R] {
    navigator.mediaSession.setActionHandler(action, handler);
  } \f[B]catch\f[R] (error) {
    console.log(\(gaThe media session action \(dq${action}\(dq is not supported yet.\(ga);
  }
}
.EE
