'\" t
.\" Automatically generated by Pandoc 3.1.12.3
.\"
.TH "FileReader" "JS" "December 21, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
FileReader \- FileReader
.SH SYNOPSIS
This feature is available in Web Workers.
.PP
The \f[B]\f[CB]FileReader\f[B]\f[R] object lets web applications
asynchronously read the contents of files (or raw data buffers) stored
on the user\[cq]s computer, using \f[CR]File\f[R] or \f[CR]Blob\f[R]
objects to specify the file or data to read.
.PP
File objects may be obtained from a \f[CR]FileList\f[R] object returned
as a result of a user selecting files using the \f[CR]<input>\f[R]
element, or from a drag and drop operation\[cq]s \f[CR]DataTransfer\f[R]
object.
.PP
\f[CR]FileReader\f[R] can only access the contents of files that the
user has explicitly selected, either using an HTML
\f[CR]<input type=\[dq]file\[dq]>\f[R] element or by drag and drop.
It cannot be used to read a file by pathname from the user\[cq]s file
system.
To read files on the client\[cq]s file system by pathname, use the File
System Access API.
To read server\-side files, use \f[CR]fetch()\f[R], with CORS permission
if reading cross\-domain.
.SH CONSTRUCTOR
.TP
\f[B]FileReader()\f[R]
Returns a new \f[CR]FileReader\f[R] object.
.PP
See Using files from web applications for details and examples.
.SH INSTANCE PROPERTIES
.TP
\f[B]FileReader.error\f[R] \f[I](read\-only)\f[R]
A \f[CR]DOMException\f[R] representing the error that occurred while
reading the file.
.TP
\f[B]FileReader.readyState\f[R] \f[I](read\-only)\f[R]
A number indicating the state of the \f[CR]FileReader\f[R].
This is one of the following:
.RS
.PP
.TS
tab(@);
l l l.
T{
Name
T}@T{
Value
T}@T{
Description
T}
_
T{
\f[CR]EMPTY\f[R]
T}@T{
\f[CR]0\f[R]
T}@T{
No data has been loaded yet.
T}
T{
\f[CR]LOADING\f[R]
T}@T{
\f[CR]1\f[R]
T}@T{
Data is currently being loaded.
T}
T{
\f[CR]DONE\f[R]
T}@T{
\f[CR]2\f[R]
T}@T{
The entire read request has been completed.
T}
.TE
.RE
.TP
\f[B]FileReader.result\f[R] \f[I](read\-only)\f[R]
The file\[cq]s contents.
This property is only valid after the read operation is complete, and
the format of the data depends on which of the methods was used to
initiate the read operation.
.SH INSTANCE METHODS
.TP
\f[B]FileReader.abort()\f[R]
Aborts the read operation.
Upon return, the \f[CR]readyState\f[R] will be \f[CR]DONE\f[R].
.TP
\f[B]FileReader.readAsArrayBuffer()\f[R]
Starts reading the contents of the specified \f[CR]Blob\f[R], once
finished, the \f[CR]result\f[R] attribute contains an
\f[CR]ArrayBuffer\f[R] representing the file\[cq]s data.
.TP
\f[B]FileReader.readAsBinaryString()\f[R] \f[I](deprecated)\f[R]
Starts reading the contents of the specified \f[CR]Blob\f[R], once
finished, the \f[CR]result\f[R] attribute contains the raw binary data
from the file as a string.
.TP
\f[B]FileReader.readAsDataURL()\f[R]
Starts reading the contents of the specified \f[CR]Blob\f[R], once
finished, the \f[CR]result\f[R] attribute contains a \f[CR]data:\f[R]
URL representing the file\[cq]s data.
.TP
\f[B]FileReader.readAsText()\f[R]
Starts reading the contents of the specified \f[CR]Blob\f[R], once
finished, the \f[CR]result\f[R] attribute contains the contents of the
file as a text string.
An optional encoding name can be specified.
.SH EVENTS
Listen to these events using \f[CR]addEventListener()\f[R] or by
assigning an event listener to the \f[CR]oneventname\f[R] property of
this interface.
Remove the event listeners with \f[CR]removeEventListener()\f[R], once
\f[CR]FileReader\f[R] is no longer used, to avoid memory leaks.
.TP
\f[B]abort\f[R]
Fired when a read has been aborted, for example because the program
called \f[CR]FileReader.abort()\f[R].
.TP
\f[B]error\f[R]
Fired when the read failed due to an error.
.TP
\f[B]load\f[R]
Fired when a read has completed successfully.
.TP
\f[B]loadend\f[R]
Fired when a read has completed, successfully or not.
.TP
\f[B]loadstart\f[R]
Fired when a read has started.
.TP
\f[B]progress\f[R]
Fired periodically as data is read.
.SH SEE ALSO
.IP \[bu] 2
Using files from web applications
.IP \[bu] 2
\f[CR]File\f[R]
.IP \[bu] 2
\f[CR]Blob\f[R]
.IP \[bu] 2
\f[CR]FileReaderSync\f[R]
