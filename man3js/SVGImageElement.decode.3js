.\" Automatically generated by Pandoc 3.6.2
.\"
.TH "SVGImageElement.decode" "JS" "August 10, 2023" "JavaScript" "JavaScript Reference Manual"
.SH NAME
SVGImageElement.decode \- SVGImageElement: decode() method
.SH SYNOPSIS
The \f[B]\f[CB]decode()\f[B]\f[R] method of the
\f[CR]SVGImageElement\f[R] interface initiates asynchronous decoding of
an image, returning a \f[CR]Promise\f[R] that resolves once the image is
decoded and it is safe to append it to the DOM.
.SH SYNTAX
.IP
.EX
decode()
.EE
.SS Parameters
None.
.SS Return value
A \f[CR]Promise\f[R] that fulfills with \f[CR]undefined\f[R] once the
image data is ready to be used, for example by appending it to the DOM,
replacing an existing image, and so forth.
.SS Exceptions
None.
.SH EXAMPLES
In the below example, you\[cq]ll likely get an empty image shown on the
page as the image is downloaded:
.IP
.EX
\f[B]const\f[R] SVG_NS = \[dq]http://www.w3.org/2000/svg\[dq];
\f[B]const\f[R] svg = document.querySelector(\[dq]svg\[dq]);

\f[B]const\f[R] img = document.createElementNS(SVG_NS, \[dq]image\[dq]);
img.src = \[dq]img/logo.svg\[dq];
svg.appendChild(img);
.EE
.PP
Using \f[CR]decode()\f[R] will delay inserting the image into the DOM
until it is fully downloaded and decoded, thereby avoiding the empty
image problem:
.IP
.EX
\f[B]const\f[R] SVG_NS = \[dq]http://www.w3.org/2000/svg\[dq];
\f[B]const\f[R] svg = document.querySelector(\[dq]svg\[dq]);

\f[B]async\f[R] \f[B]function\f[R] getImage() {
  \f[B]const\f[R] img = document.createElementNS(SVG_NS, \[dq]image\[dq]);
  img.src = \[dq]img/logo.svg\[dq];
  \f[B]await\f[R] img.decode();
  svg.appendChild(img);
  \f[B]const\f[R] text = document.createElementNS(SVG_NS, \[dq]text\[dq]);
  text.textContent = \[dq]Image is fully loaded!\[dq];
  svg.appendChild(text);
}
.EE
.PP
This is particularly useful if you\[cq]re dynamically swapping an
existing image for a new one, and also prevents unrelated paints outside
of this code from being held up while the image is decoding.
.SH SEE ALSO
.IP \[bu] 2
\f[CR]HTMLImageElement.decode()\f[R]: The same thing, but for HTML
\f[CR]<img>\f[R] elements
.IP \[bu] 2
\c
.UR https://www.tunetheweb.com/blog/what-does-the-image-decoding-attribute-actually-do/
What does the image decoding attribute actually do?
.UE \c
\ on tunetheweb.com (2023)
