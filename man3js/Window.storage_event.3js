.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "WINDOW.STORAGE_EVENT" "3JS" "May 2, 2025" "JavaScript" "JavaScript Reference Manual"
.SH NAME
Window.storage_event \- Window: storage event
.SH SYNOPSIS
The \f[B]\f[CB]storage\f[B]\f[R] event of the \f[CR]Window\f[R]
interface fires when another document that shares the same storage area
(either \f[CR]localStorage\f[R] or \f[CR]sessionStorage\f[R]) as the
current window updates that storage area.
The event is \f[I]not\f[R] fired on the window that made the change.
.IP \(bu 2
For \f[CR]localStorage\f[R], the event is fired in all other browsing
contexts that are in the same origin as the initiating document.
This includes other tabs with the same origin.
.IP \(bu 2
For \f[CR]sessionStorage\f[R], the event is fired in all other browsing
contexts that are in the same origin and the same top\-level browsing
context as the initiating document.
This only includes embedded iframes, if any, in the same tab, and not
other tabs.
.PP
This event is not cancelable and does not bubble.
.SH SYNTAX
Use the event name in methods like \f[CR]addEventListener()\f[R], or set
an event handler property.
.IP
.EX
addEventListener(\(dqstorage\(dq, (event) => { })

onstorage = (event) => { }
.EE
.SH EVENT TYPE
A \f[CR]StorageEvent\f[R].
Inherits from \f[CR]Event\f[R].
.SH EVENT PROPERTIES
.TP
\f[B]key\f[R] \f[I](read\-only)\f[R]
Returns a string with the key for the storage item that was changed.
The \f[CR]key\f[R] attribute is \f[CR]null\f[R] when the change is
caused by the storage \f[CR]clear()\f[R] method.
.TP
\f[B]newValue\f[R] \f[I](read\-only)\f[R]
Returns a string with the new value of the storage item that was
changed.
This value is \f[CR]null\f[R] when the change has been invoked by
storage \f[CR]clear()\f[R] method, or the storage item has been removed
from the storage.
.TP
\f[B]oldValue\f[R] \f[I](read\-only)\f[R]
Returns a string with the original value of the storage item that was
changed.
This value is \f[CR]null\f[R] when the storage item has been newly added
and therefore doesn\(cqt have any previous value.
.TP
\f[B]storageArea\f[R] \f[I](read\-only)\f[R]
Returns a \f[CR]Storage\f[R] object that represents the storage object
that was affected.
.TP
\f[B]url\f[R] \f[I](read\-only)\f[R]
Returns string with the URL of the document whose storage changed.
.SH EVENT HANDLER ALIASES
In addition to the \f[CR]Window\f[R] interface, the event handler
property \f[CR]onstorage\f[R] is also available on the following
targets:
.IP \(bu 2
\f[CR]HTMLBodyElement\f[R]
.IP \(bu 2
\f[CR]HTMLFrameSetElement\f[R]
.IP \(bu 2
\f[CR]SVGSVGElement\f[R]
.SH EXAMPLES
Log the \f[CR]sampleList\f[R] item to the console when the
\f[CR]storage\f[R] event fires:
.IP
.EX
window.addEventListener(\(dqstorage\(dq, () \f[B]=>\f[R] {
  \f[I]// When local storage changes, dump the list to\f[R]
  \f[I]// the console.\f[R]
  console.log(JSON.parse(window.localStorage.getItem(\(dqsampleList\(dq)));
});
.EE
.PP
The same action can be achieved using the \f[CR]onstorage\f[R] event
handler property:
.IP
.EX
window.onstorage = () \f[B]=>\f[R] {
  \f[I]// When local storage changes, dump the list to\f[R]
  \f[I]// the console.\f[R]
  console.log(JSON.parse(window.localStorage.getItem(\(dqsampleList\(dq)));
};
.EE
.SH SEE ALSO
.IP \(bu 2
Web Storage API
.IP \(bu 2
Using the Web Storage API
.IP \(bu 2
Responding to storage changes with the StorageEvent
