.\" Automatically generated by Pandoc 3.2.1
.\"
.TH "NavigationPreloadManager.setHeaderValue" "JS" "July 26, 2024" "JavaScript" "JavaScript Reference Manual"
.SH NAME
NavigationPreloadManager.setHeaderValue \- NavigationPreloadManager:
setHeaderValue() method
.SH SYNOPSIS
\f[B]Secure context:\f[R] This feature is available only in secure
contexts (HTTPS).
.PP
\f[B]Note:\f[R] This feature is available in Web Workers.
.PP
The \f[B]\f[CB]setHeaderValue()\f[B]\f[R] method of the
\f[CR]NavigationPreloadManager\f[R] interface sets the value of the
\f[CR]Service\-Worker\-Navigation\-Preload\f[R] header that will be sent
with requests resulting from a \f[CR]fetch()\f[R] operation made during
service worker navigation preloading.
It returns an empty \f[CR]Promise\f[R] that resolves with
\f[CR]undefined\f[R].
.PP
The presence of the \f[CR]Service\-Worker\-Navigation\-Preload\f[R]
header in preloading requests allows servers to configure the returned
resource differently for preloading fetch requests than from normal
fetch requests.
The default directive is set to \f[CR]true\f[R]: this method allows the
possibility of configuring multiple different responses to preload
requests.
.RS
.PP
\f[B]Note:\f[R] If a different response may result from setting this
header, the server must set
\f[CR]Vary: Service\-Worker\-Navigation\-Preload\f[R] to ensure that the
different responses are cached.
.RE
.SH SYNTAX
.IP
.EX
setHeaderValue(value)
.EE
.SS Parameters
.TP
\f[B]value\f[R]
An arbitrary string value, which the target server uses to determine
what should returned for the requested resource.
.SS Return value
A \f[CR]Promise\f[R] that resolves with \f[CR]undefined\f[R].
.SS Exceptions
.TP
\f[B]InvalidStateError\f[R] \f[B]DOMException\f[R]
There is no active worker associated with the registration to which this
\f[CR]NavigationPreloadManager\f[R] belongs.
.SH EXAMPLES
The code below demonstrates how the value might be set.
.IP
.EX
navigator.serviceWorker.ready
  .then((registration) \f[B]=>\f[R]
    registration.navigationPreload.setHeaderValue(newValue),
  )
  .then(() \f[B]=>\f[R] console.log(\[dq]Done!\[dq]))
  .catch((e) \f[B]=>\f[R]
    console.error(\[ga]NavigationPreloadManager not supported: ${e.message}\[ga]),
  );
.EE
