.\" Automatically generated by Pandoc 3.7.0.1
.\"
.TH "IMAGECAPTURE.GRABFRAME" "3JS" "June 18, 2025" "JavaScript" "JavaScript Reference Manual"
.SH NAME
ImageCapture.grabFrame \- ImageCapture: grabFrame() method
.SH SYNOPSIS
The \f[B]\f[CB]grabFrame()\f[B]\f[R] method of the
\f[CR]ImageCapture\f[R] interface takes a snapshot of the live video in
a \f[CR]MediaStreamTrack\f[R] and returns a \f[CR]Promise\f[R] that
resolves with a \f[CR]ImageBitmap\f[R] containing the snapshot.
.SH SYNTAX
.IP
.EX
grabFrame()
.EE
.SS Parameters
None.
.SS Return value
A \f[CR]Promise\f[R] that resolves to an \f[CR]ImageBitmap\f[R] object.
.SS Exceptions
.TP
\f[B]InvalidStateError\f[R] \f[B]DOMException\f[R]
Thrown if \f[CR]readyState\f[R] property of the
\f[CR]MediaStreamTrack\f[R] passing in the constructor is not
\f[CR]live\f[R].
.TP
\f[B]UnknownError\f[R] \f[B]DOMException\f[R]
Thrown if the operation can\(cqt complete for any reason.
.SH EXAMPLES
This example is extracted from this \c
.UR https://simpl.info/imagecapture/
Simple Image Capture demo
.UE \c
\&.
It shows how to use the \f[CR]Promise\f[R] returned by
\f[CR]grabFrame()\f[R] to copy the returned frame to a
\f[CR]<canvas>\f[R] element.
For simplicity it does not show how to instantiate the
\f[CR]ImageCapture\f[R] object.
.IP
.EX
\f[B]let\f[R] grabFrameButton = document.querySelector(\(dqbutton#grabFrame\(dq);
\f[B]let\f[R] canvas = document.querySelector(\(dqcanvas\(dq);

grabFrameButton.onclick = grabFrame;

\f[B]function\f[R] grabFrame() {
  imageCapture
    .grabFrame()
    .then((imageBitmap) \f[B]=>\f[R] {
      console.log(\(dqGrabbed frame:\(dq, imageBitmap);
      canvas.width = imageBitmap.width;
      canvas.height = imageBitmap.height;
      canvas.getContext(\(dq2d\(dq).drawImage(imageBitmap, 0, 0);
      canvas.classList.remove(\(dqhidden\(dq);
    })
    .catch((error) \f[B]=>\f[R] {
      console.error(\(dqgrabFrame() error: \(dq, error);
    });
}
.EE
